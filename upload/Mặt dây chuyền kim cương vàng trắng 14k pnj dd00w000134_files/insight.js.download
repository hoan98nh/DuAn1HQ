/* 
 project: CDP-365 SDK
 Reserved: @Copyright 2017-2022 Antsomi
 ver: v13.4
 date: 20240709
 change log: lead_event, fixed_staging evn, fixed_preventdefault, fixed undefiennd isCommit,fixed_pv_undefined, fixed_undefined_uid,atm_cid & click_stream,syncUidFromLocalStogare, eventLogType, trackEventWithUri ,wapper item_type->type,view_orders_, ga_uid,visitor_type,expired_click_bc_6months, click_bc_localStorage, redirect_url #char,param portal for Delivery,resetUidV2, getLatestEvent,PageTitle, VisitorType, Fixed line_items, CustomExtra, ITM ,postMessageEvent, ATM, Identify type, Journey Setting Script
 */
"object"!==typeof JSON2&&(JSON2={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=f[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(d,e){var f,h,l,m,k=g,x,s=e[d];s&&"object"===typeof s&&(f=s,l=Object.prototype.toString.apply(f),s="[object Date]"===l?isFinite(f.valueOf())?f.getUTCFullYear()+"-"+a(f.getUTCMonth()+1)+"-"+a(f.getUTCDate())+"T"+a(f.getUTCHours())+":"+a(f.getUTCMinutes())+":"+a(f.getUTCSeconds())+"Z":null:"[object String]"===l||"[object Number]"===l||"[object Boolean]"===l?f.valueOf():"[object Array]"!==l&&"function"===typeof f.toJSON?f.toJSON(d):f);"function"===typeof n&&(s=n.call(e,d,s));switch(typeof s){case"string":return b(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";g+=p;x=[];if("[object Array]"===Object.prototype.toString.apply(s)){m=s.length;for(f=0;f<m;f+=1)x[f]=c(f,s)||"null";l=0===x.length?"[]":g?"[\n"+g+x.join(",\n"+g)+"\n"+k+"]":"["+x.join(",")+"]";g=k;return l}if(n&&"object"===typeof n)for(m=n.length,f=0;f<m;f+=1)"string"===typeof n[f]&&(h=n[f],(l=c(h,s))&&x.push(b(h)+(g?": ":":")+l));else for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(l=c(h,s))&&x.push(b(h)+(g?": ":":")+l);l=0===x.length?"{}":g?"{\n"+g+x.join(",\n"+g)+"\n"+k+"}":"{"+x.join(",")+"}";g=k;return l}}var d=RegExp("[\x00\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]","g"),e=RegExp('[\\\\\\"\x00-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',"g"),g,p,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!==typeof JSON2.stringify&&(JSON2.stringify=function(a,b,d){var e;p=g="";if("number"===typeof d)for(e=0;e<d;e+=1)p+=" ";else"string"===typeof d&&(p=d);if((n=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON2.stringify");return c("",{"":a})});"function"!==typeof JSON2.parse&&(JSON2.parse=function(a,b){function c(a,d){var e,g,s=a[d];if(s&&"object"===typeof s)for(e in s)Object.prototype.hasOwnProperty.call(s,e)&&(g=c(s,e),void 0!==g?s[e]=g:delete s[e]);return b.call(a,d,s)}var e;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(RegExp('\\\\(?:["\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),"@").replace(RegExp('"[^"\\\\\n\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),"]").replace(RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON2.parse");})})();"object"!==typeof _paqAcdp&&(_paqAcdp=[]);"object"!==typeof PiwikAcdp&&(PiwikAcdp=function(){function a(a){return"undefined"!==typeof a}function b(a){return"function"===typeof a}function c(a){return"object"===typeof a}function d(a){return"string"===typeof a||a instanceof String}function e(){var a,b,c;for(a=0;a<arguments.length;a+=1)c=arguments[a],b=c.shift(),d(b)?z[b].apply(z,c):b.apply(z,c)}function g(a,b,c,d){if(a.addEventListener)return a.addEventListener(b,c,d),!0;if(a.attachEvent)return a.attachEvent("on"+b,c);a["on"+b]=c}function p(a,c){var d="",e,k;for(e in ha)Object.prototype.hasOwnProperty.call(ha,e)&&(k=ha[e][a],b(k)&&(d+=k(c)));return d}function f(){var a;if(!D)for(D=!0,p("load"),a=0;a<V.length;a++)V[a]();return!0}function n(a,b){var c=r.createElement("script");c.type="text/javascript";c.src=a;c.readyState?c.onreadystatechange=function(){var a=this.readyState;if("loaded"===a||"complete"===a)c.onreadystatechange=null,b()}:c.onload=b;r.getElementsByTagName("head")[0].appendChild(c)}function v(){var a="";try{a=w.top.document.referrer}catch(b){if(w.parent)try{a=w.parent.document.referrer}catch(c){a=""}}""===a&&(a=r.referrer);return a}function q(a){return(a=/^([a-z]+):/.exec(a))?a[1]:null}function t(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a}function h(a,b){var c=RegExp("[\\?&#]"+b+"=([^&#]*)").exec(a);return c?W(c[1]):""}function l(a){var b=function(a,b){return a<<b|a>>>32-b},c=function(a){var b="",c,d;for(c=7;0<=c;c--)d=a>>>4*c&15,b+=d.toString(16);return b},d,e,k=[],g=1732584193,s=4023233417,x=2562383102,f=271733878,E=3285377520,h,l,m,J,G,p=[];a=F(y(a));h=a.length;for(d=0;d<h-3;d+=4)e=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3),p.push(e);switch(h&3){case 0:d=2147483648;break;case 1:d=a.charCodeAt(h-1)<<24|8388608;break;case 2:d=a.charCodeAt(h-2)<<24|a.charCodeAt(h-1)<<16|32768;break;case 3:d=a.charCodeAt(h-3)<<24|a.charCodeAt(h-2)<<16|a.charCodeAt(h-1)<<8|128}for(p.push(d);14!==(p.length&15);)p.push(0);p.push(h>>>29);p.push(h<<3&4294967295);for(a=0;a<p.length;a+=16){for(d=0;16>d;d++)k[d]=p[a+d];for(d=16;79>=d;d++)k[d]=b(k[d-3]^k[d-8]^k[d-14]^k[d-16],1);e=g;h=s;l=x;m=f;J=E;for(d=0;19>=d;d++)G=b(e,5)+(h&l|~h&m)+J+k[d]+1518500249&4294967295,J=m,m=l,l=b(h,30),h=e,e=G;for(d=20;39>=d;d++)G=b(e,5)+(h^l^m)+J+k[d]+1859775393&4294967295,J=m,m=l,l=b(h,30),h=e,e=G;for(d=40;59>=d;d++)G=b(e,5)+(h&l|h&m|l&m)+J+k[d]+2400959708&4294967295,J=m,m=l,l=b(h,30),h=e,e=G;for(d=60;79>=d;d++)G=b(e,5)+(h^l^m)+J+k[d]+3395469782&4294967295,J=m,m=l,l=b(h,30),h=e,e=G;g=g+e&4294967295;s=s+h&4294967295;x=x+l&4294967295;f=f+m&4294967295;E=E+J&4294967295}G=c(g)+c(s)+c(x)+c(f)+c(E);return G.toLowerCase()}function m(a,b,c){if("translate.googleusercontent.com"===a)""===c&&(c=b),b=h(b,"u"),a=t(b);else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a||"74.6."===a.slice(0,5))b=r.links[0].href,a=t(b);return[a,b,c]}function k(a){var b=a.length;"."===a.charAt(--b)&&(a=a.slice(0,b));"*."===a.slice(0,2)&&(a=a.slice(1));return a}function x(b){b=b&&b.text?b.text:b;if(!d(b)){var c=r.getElementsByTagName("title");c&&a(c[0])&&(b=c[0].text)}return b}function s(b){return b?!a(b.children)&&a(b.childNodes)||a(b.children)?b.children:[]:[]}function G(b,c){if(b&&b.indexOf)return b.indexOf(c);if(!a(b)||null===b||!b.length)return-1;var d=b.length;if(0===d)return-1;for(var e=0;e<d;){if(b[e]===c)return e;e++}return-1}function E(b){function c(a,b){if(w.getComputedStyle)return r.defaultView.getComputedStyle(a,null)[b];if(a.currentStyle)return a.currentStyle[b]}function d(e,k,g,s,x,f,h){var E=e.parentNode,l;a:{for(l=e.parentNode;l;){if(l===r){l=!0;break a}l=l.parentNode}l=!1}if(!l)return!1;if(9===E.nodeType)return!0;if("0"===c(e,"opacity")||"none"===c(e,"display")||"hidden"===c(e,"visibility"))return!1;a(k)&&a(g)&&a(s)&&a(x)&&a(f)&&a(h)||(k=e.offsetTop,x=e.offsetLeft,s=k+e.offsetHeight,g=x+e.offsetWidth,f=e.offsetWidth,h=e.offsetHeight);if(b===e&&(0===h||0===f)&&"hidden"===c(e,"overflow"))return!1;if(E){if("hidden"===c(E,"overflow")||"scroll"===c(E,"overflow"))if(x+1>E.offsetWidth+E.scrollLeft||x+f-1<E.scrollLeft||k+1>E.offsetHeight+E.scrollTop||k+h-1<E.scrollTop)return!1;e.offsetParent===E&&(x+=E.offsetLeft,k+=E.offsetTop);return d(E,k,g,s,x,f,h)}return!0}return b?d(b):!1}function la(a,b){if(b)return b;"piwik.php"===a.slice(-9)&&(a=a.slice(0,a.length-9));return a}function J(a){var b=/index\.php\?module=Overlay&action=startOverlaySession&prop_id=([0-9]+)&period=([^&]+)&date=([^&]+)$/.exec(r.referrer);if(b){if(b[1]!==String(a))return!1;w.name="Piwik_Overlay###"+b[2]+"###"+b[3]}a=w.name.split("###");return 3===a.length&&"Piwik_Overlay"===a[0]}function Ob(a,b,c){var d=w.name.split("###"),e=d[1],k=d[2],g=la(a,b);n(g+"plugins/Overlay/client/client.js?v=1",function(){Piwik_Overlay_Client.initialize(g,c,e,k)})}function ma(e,s){function f(a,b,c,d,e,B){if(!aa){var k;c&&(k=new Date,k.setTime(k.getTime()+c));r.cookie=a+"="+y(b)+(c?";expires="+k.toGMTString():"")+";path="+(d||"/")+(e?";domain="+e:"")+(B?";secure":"")}}function G(a){return aa?0:(a=RegExp("(^|;)[ ]*"+a+"=([^;]*)").exec(r.cookie))?W(a[2]):0}function la(a){var b;return fb?(b=/#.*/,a.replace(b,"")):a}function n(a){var b,c,d;for(b=0;b<ua.length;b++){c=k(ua[b].toLowerCase());if(a===c)return!0;if("."===c.slice(0,1)){if(a===c.slice(1))return!0;d=a.length-c.length;if(0<d&&a.slice(d)===c)return!0}}return!1}function z(a,b,c){c=!0;"undefined"==typeof b||b||(c=!1);b=document.createElement("script");b.type="text/javascript";b.async=c;b.src=T+(0>T.indexOf("?")?"?":"&")+a;b.onload=function(){};a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}function ma(b,c,d){a(d)&&null!==d||(d=!0);try{var e=w.XMLHttpRequest?new w.XMLHttpRequest:w.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;e.open("POST",T,!0);e.onreadystatechange=function(){4!==this.readyState||200<=this.status&&300>this.status||!d?"function"===typeof c&&c():z(b,!0,c)};e.setRequestHeader("Content-Type",gb);e.send(b)}catch(B){d&&z(b,!0,c)}}function A(a){a=(new Date).getTime()+a;if(!j||a>j)j=a}function K(a){var b=(new Date).getTime();ca&&b<ca?(b=ca-b,setTimeout(a,b),A(b+50),ca+=50):(!1===ca&&(ca=b+800),a())}function H(a,b,c,d){!va&&a&&K(function(){"POST"===hb?ma(a,d):z(a,c,d);A(b)})}function R(a,b){var c;c=va?!1:a&&a.length;if(c){var d='{"requests":["?'+a.join('","?')+'"]}';K(function(){ma(d,null,!1);A(b)})}}function N(a){return ib+a+"."+P+"."+jb}function Nb(){if(aa)return"0";if(!a(M.cookieEnabled)){var b=N("testcookie");f(b,"1");return"1"===G(b)?"1":"0"}return M.cookieEnabled?"1":"0"}function Ia(){jb=kb((X||Ja)+(Y||"/")).slice(0,4)}function O(){Ka=(new Date).getTime()}function eb(){var a=new Date,b=Math.round(a.getTime()/1E3),c=N("id"),c=G(c);if("undefined"==typeof Z||null==Z)Z="0";return c?(a=c.split("."),a.unshift("0"),Z.length&&(a[1]=Z),a):a=["1",Z.length?Z:kb((M.userAgent||"")+(M.platform||"")+JSON2.stringify(da)+a.getTime()+Math.random()).slice(0,16),b,0,b,"",""]}function ta(){var b=eb(),c=b[0],d=b[1],e=b[2],B=b[3],k=b[4],g=b[5];a(b[6])||(b[6]="");return{newVisitor:c,uuid:d,createTs:e,visitCount:B,currentVisitTs:k,lastVisitTs:g,lastEcommerceOrderTs:b[6]}}function cb(){var a=(new Date).getTime(),b=ta().createTs;return 1E3*parseInt(b,10)+La-a}function Ha(b){if(P){var c=Math.round((new Date).getTime()/1E3);a(b)||(b=ta());b=b.uuid+"."+b.createTs+"."+b.visitCount+"."+c+"."+b.lastVisitTs+"."+b.lastEcommerceOrderTs;f(N("id"),b,cb(),Y,X)}}function ia(){var a=G(N("ref"));if(a.length)try{if(a=JSON2.parse(a),c(a))return a}catch(b){}return["","",0,""]}function lb(){var a=aa;aa=!1;f(N("id"),"",-86400,Y,X);f(N("ses"),"",-86400,Y,X);f(N("cvar"),"",-86400,Y,X);f(N("ref"),"",-86400,Y,X);aa=a}function U(c,d,e,B){var k,g=Math.round((new Date).getTime()/1E3),s,x;e=N("ses");var E=N("ref");N("cvar");var I=G(e);s=ia();x=wa||mb;var l,m;aa&&lb();if(va)return"";e=ta();a(B)||(B="");(l=r.characterSet||r.charset)&&l.toLowerCase();l=s[0];m=s[1];s=s[3];if(!I){I=Ma/1E3;if(!e.lastVisitTs||g-e.lastVisitTs>I)e.visitCount++,e.lastVisitTs=e.currentVisitTs;if(!Na||!l.length){for(k in xa)if(Object.prototype.hasOwnProperty.call(xa,k)&&(l=h(x,xa[k]),l.length))break;for(k in ya)if(Object.prototype.hasOwnProperty.call(ya,k)&&(m=h(x,ya[k]),m.length))break}k=t(Oa);x=s.length?t(s):"";!k.length||(n(k)||Na&&x.length&&!n(x))||(s=Oa);if(s.length||l.length)s=[l,m,g,la(s.slice(0,100))],f(E,JSON2.stringify(s),nb,Y,X)}g=window._portalId;"undefined"!=typeof g&&0<g||"undefined"!=typeof _portalId&&0<_portalId&&(g=_portalId);if("undefined"==typeof g||0>=g)g=za;E=P;"undefined"!=typeof d&&("undefined"!=typeof d.cdp_property_id&&0<d.cdp_property_id)&&(E=d.cdp_property_id);c=c+("&portal_id="+g)+("&prop_id="+E+(oa&&oa.length?"&uid="+y(oa):""));d?c+="&cvar="+y(JSON2.stringify(d)):ea&&(c+="&cvar="+y(JSON2.stringify(ea)));ob&&(Pa?c+="&gt_ms="+Pa:$&&($.timing&&$.timing.requestStart&&$.timing.responseEnd)&&(c+="&gt_ms="+($.timing.responseEnd-$.timing.requestStart)));e.lastEcommerceOrderTs=a(B)&&String(B).length?B:e.lastEcommerceOrderTs;Ha(e);f(N("ses"),"*",Ma,Y,X);Qa.length&&(c+="&"+Qa);b(Ra)&&(c=Ra(c));return c}function Rb(a,b){var c=new Date,d=U("action_name="+y(x(a||Sa)),b,"log");H(d,L,!0);Ta&&(pa&&!pb)&&(pb=!0,g(r,"click",O),g(r,"mouseup",O),g(r,"mousedown",O),g(r,"mousemove",O),g(r,"mousewheel",O),g(w,"DOMMouseScroll",O),g(w,"scroll",O),g(r,"keypress",O),g(r,"keydown",O),g(r,"keyup",O),g(w,"resize",O),g(w,"focus",O),g(w,"blur",O),Ka=c.getTime(),setTimeout(function Pb(){var a;c=new Date;Ka+pa>c.getTime()&&(Ta<c.getTime()&&(a=U("ping=1",b,"ping"),H(a,L,!0)),setTimeout(Pb,pa))},pa))}function Ua(a,b){var c,d="(^| )(piwik[_-]"+b;if(a)for(c=0;c<a.length;c++)d+="|"+a[c];return RegExp(d+")( |$)")}function qa(a){return T&&a&&0===String(a).indexOf(T)}function Va(b){var c=b;for(b=c.parentNode;null!==b&&a(b)&&!u.isLinkElement(c);)c=b,b=c.parentNode;b=c;if(u.hasNodeAttribute(b,"href")&&a(b.href)&&(c=u.getAttributeValueFromNode(b,"href"),!qa(c))){var c=b.hostname||t(b.href),d=c.toLowerCase(),c=b.href.replace(c,d);if(!/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(c)){b=b.className;d=n(d);if(qa(c))b=0;else{var e=Ua(qb,"download"),B=Ua(rb,"link"),k=RegExp("\\.("+ra+")([?&#]|$)","i");b=B.test(b)?"link":e.test(b)||k.test(c)?"download":d?0:"link"}if(b)return{type:b,href:c}}}}function sa(a,b,c,d){if(a=C.buildInteractionRequestParams(a,b,c,d))return U(a,null,"contentInteraction")}function sb(b,c,d,e,B){if(a(b)){if(qa(b))return b;var k=C.toAbsoluteUrl(b),k="redirecturl="+y(k)+"&",k=k+sa(c,d,e,B||b);b="&";0>T.indexOf("?")&&(b="?");return T+b+k}}function Wa(a,b){if(!a||!b)return!1;var c=C.findTargetNode(a);if(C.shouldIgnoreInteraction(c))return!1;c=C.findTargetNodeNoDefault(a);return!c||c&&b&&(c.contains?c.contains(b):c===b||c.compareDocumentPosition&&c.compareDocumentPosition(b)&16)?!0:!1}function tb(a,b,c){if(a){var d=C.findParentContentNode(a);if(d&&Wa(d,a)&&(a=C.buildContentBlock(d)))return!a.target&&c&&(a.target=c),C.buildInteractionRequestParams(b,a.name,a.piece,a.target)}}function ub(a){if(!ba||!ba.length)return!1;var b,c;for(b=0;b<ba.length;b++)if((c=ba[b])&&c.name===a.name&&c.piece===a.piece&&c.target===a.target)return!0;return!1}function Xa(a){if(!a)return!1;var b=C.findTargetNode(a);if(!b||C.shouldIgnoreInteraction(b))return!1;var c=Va(b);if(Ya&&c&&c.type)return!1;if(u.isLinkElement(b)&&u.hasNodeAttributeWithValue(b,"href")){c=String(u.getAttributeValueFromNode(b,"href"));if(0===c.indexOf("#"))return!1;if(qa(c))return!0;if(!C.isUrlToCurrentDomain(c))return!1;var d=C.buildContentBlock(a);if(!d)return;a=d.name;var e=d.piece,d=d.target;if(!u.hasNodeAttributeWithValue(b,C.CONTENT_TARGET_ATTR)||b.wasContentTargetAttrReplaced)b.wasContentTargetAttrReplaced=!0,d=C.toAbsoluteUrl(c),u.setAnyAttribute(b,C.CONTENT_TARGET_ATTR,d);c=sb(c,"click",a,e,d);C.setHrefAttribute(b,c);return!0}return!1}function vb(a){return function(b){if(a){var c=C.findParentContentNode(a),d;b&&(d=b.target||b.srcElement);d||(d=a);if(Wa(c,d)){A(L);u.isLinkElement(a)&&(u.hasNodeAttributeWithValue(a,"href")&&u.hasNodeAttributeWithValue(a,C.CONTENT_TARGET_ATTR))&&(b=u.getAttributeValueFromNode(a,"href"),!qa(b)&&a.wasContentTargetAttrReplaced&&u.setAnyAttribute(a,C.CONTENT_TARGET_ATTR,""));b=Va(a);if(Aa&&b&&b.type)return b.type;if(Xa(c))return"href";if(c=C.buildContentBlock(c))return c=sa("click",c.name,c.piece,c.target),H(c,L,!0),c}}}}function wb(a){if(a&&a.length){var b,c;for(b=0;b<a.length;b++)(c=C.findTargetNode(a[b]))&&!c.contentInteractionTrackingSetupDone&&(c.contentInteractionTrackingSetupDone=!0,g(c,"click",vb(c)))}}function xb(a,b){if(!a||!a.length)return[];var c,d;for(c=0;c<a.length;c++)ub(a[c])?(a.splice(c,1),c--):ba.push(a[c]);if(!a||!a.length)return[];if(b&&b.length)for(c=0;c<b.length;c++)Xa(b[c]);wb(b);var e=[];for(c=0;c<a.length;c++)d=U(C.buildImpressionRequestParams(a[c].name,a[c].piece,a[c].target),void 0,"contentImpressions"),e.push(d);return e}function Ba(a){var b=C.collectContent(a);return xb(b,a)}function Za(a){if(!a||!a.length)return[];var b;for(b=0;b<a.length;b++)C.isNodeVisible(a[b])||(a.splice(b,1),b--);return a&&a.length?Ba(a):[]}function yb(a,b,c){a=C.buildImpressionRequestParams(a,b,c);return U(a,null,"contentImpression")}function zb(a,b){if(a){var c=C.findParentContentNode(a);if(c=C.buildContentBlock(c))return b||(b="Unknown"),sa(b,c.name,c.piece,c.target)}}function Ab(b,d,e,B,k,g,s,x,f){if(void 0!=String(b)&&0===String(b).length||void 0!=String(d)&&0===String(d).length)return!1;try{"pageview"==b&&"view"==d&&("undefined"==typeof g&&(g={}),g.page_title=Sa)}catch(E){}b="ec="+y(b)+"&ea="+y(d)+(a(e)?"&en="+y(e):"")+(a(B)?"&ev="+y(B):"")+(a(k)&&c(k)&&void 0!=Object.keys(k)&&0<Object.keys(k).length?"&items="+y(JSON2.stringify(k)):"");a(s)&&(c(s)&&void 0!=Object.keys(s)&&0<Object.keys(s).length)&&(b+="&uinf="+y(JSON2.stringify(s)),"undefined"!=typeof s.upkey&&(b+="&upkey="+s.upkey));a(x)&&(c(x)&&void 0!=Object.keys(x)&&0<Object.keys(x).length)&&(b+="&dims="+y(JSON2.stringify(x)));g=U(b,g,"event");a(f)||(f=!1);H(g,L,f)}function Bb(a,b,c,d,e){b=b+"="+y(la(a));(a=tb(e,"click",a))&&(b+="&"+a);c=U(b,c,"link");H(c,d?0:L,!0,d)}function Q(a){var b,c,d=["","webkit","ms","moz"],e;if(!Cb)for(c=0;c<d.length;c++)if(e=d[c],Object.prototype.hasOwnProperty.call(r,""!==e?e+"H"+"hidden".slice(1):"hidden")){"prerender"===r[""!==e?e+"V"+"visibilityState".slice(1):"visibilityState"]&&(b=!0);break}b?g(r,e+"visibilitychange",function Qb(){r.removeEventListener(e+"visibilitychange",Qb,!1);a()}):a()}function Ca(a){"complete"===r.readyState?a():w.addEventListener?w.addEventListener("load",a):w.attachEvent&&w.attachEvent("onLoad",a)}function $a(a){var b=!1;(b=r.attachEvent?"complete"===r.readyState:"loading"!==r.readyState)?a():r.addEventListener?r.addEventListener("DOMContentLoaded",a):r.attachEvent&&r.attachEvent("onreadystatechange",a)}function Db(a){var b=Va(a);b&&b.type&&(b.href=F(b.href),Bb(b.href,b.type,void 0,null,a))}function ab(a){var b,c;a=a||w.event;b=a.which||a.button;c=a.target||a.srcElement;"click"===a.type?c&&Db(c):"mousedown"===a.type?1!==b&&2!==b||!c?Da=Ea=null:(Da=b,Ea=c):"mouseup"===a.type&&(b===Da&&c===Ea&&Db(c),Da=Ea=null)}function Eb(a,b){b?(g(a,"mouseup",ab,!1),g(a,"mousedown",ab,!1)):g(a,"click",ab,!1)}function Fb(a){if(!Aa){Aa=!0;var b,c=Ua(Gb,"ignore"),d=r.links;if(d)for(b=0;b<d.length;b++)c.test(d[b].className)||Eb(d[b],a)}}function Hb(a,b,c){function d(){e=!0}if(ja)return!0;ja=!0;var e=!1,B,k;Ca(function(){function g(a){setTimeout(function(){ja&&(e=!1,c.trackVisibleContentImpressions(),g(a))},a)}function s(a){setTimeout(function(){ja&&(e&&(e=!1,c.trackVisibleContentImpressions()),s(a))},a)}if(a){B=["scroll","resize"];for(k=0;k<B.length;k++)r.addEventListener?r.addEventListener(B[k],d):w.attachEvent("on"+B[k],d);s(100)}b&&0<b&&(b=parseInt(b,10),g(b))})}var i={},bb=m(r.domain,w.location.href,v()),Ja=k(bb[0]),mb=W(bb[1]),Oa=W(bb[2]),Ib=!1,hb="GET",gb="application/x-www-form-urlencoded; charset=UTF-8",T=e||"",Jb="",Qa="",za=za||"",P=s||"",Kb="",Lb="",oa="",Z="",wa,Sa=r.title,ra="7z|aac|apk|ar[cj]|as[fx]|avi|azw3|bin|csv|deb|dmg|docx?|epub|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mobi|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|pptx?|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xlsx?|xml|z|zip",ua=[Ja],Gb=[],qb=[],rb=[],L=500,Ta,pa,fb,ea,xa=["pk_campaign","piwik_campaign","utm_campaign","utm_source","utm_medium"],ya=["pk_kwd","piwik_kwd","utm_term"],ib="_pk_",X,Y,aa=!1,va,Cb,Na,La=339552E5,Ma=18E5,nb=15768E6,ob=!0,Pa=0,Ra,da={},ba=[],ja=!1,ca=!1,Aa=!1,Ya=!1,pb=!1,Ka,Da,Ea,kb=l,jb;(function(){var c,d,e={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},B=/Mac OS X.*Safari\//.test(M.userAgent)?w.devicePixelRatio||1:1;if(!/MSIE/.test(M.userAgent)){if(M.mimeTypes&&M.mimeTypes.length)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=M.mimeTypes[e[c]],da[c]=d&&d.enabledPlugin?"1":"0");"unknown"!==typeof navigator.javaEnabled&&(a(M.javaEnabled)&&M.javaEnabled())&&(da.java="1");b(w.GearsFactory)&&(da.gears="1");da.cookie=Nb()}da.res=Ga.width*B+"x"+Ga.height*B})();Ia();Ha();p("run",function(b,e){var B=null;if(d(b)&&!a(i[b])&&e){if(c(e))B=e;else if(d(e))try{eval("hookObj ="+e)}catch(k){}i[b]=B}return B});return{hook:i,getHook:function(a){return i[a]},getQuery:function(){return u},getContent:function(){return C},buildContentImpressionRequest:yb,buildContentInteractionRequest:sa,buildContentInteractionRequestNode:zb,buildContentInteractionTrackingRedirectUrl:sb,getContentImpressionsRequestsFromNodes:Ba,getCurrentlyVisibleContentImpressionsRequestsIfNotTrackedYet:Za,trackCallbackOnLoad:Ca,trackCallbackOnReady:$a,buildContentImpressionsRequests:xb,wasContentImpressionAlreadyTracked:ub,appendContentInteractionToRequestIfPossible:tb,setupInteractionsTracking:wb,trackContentImpressionClickInteraction:vb,internalIsNodeVisible:E,isNodeAuthorizedToTriggerInteraction:Wa,replaceHrefIfInternalLink:Xa,getConfigDownloadExtensions:function(){return ra},enableTrackOnlyVisibleContent:function(a,b){return Hb(a,b,this)},clearTrackedContentImpressions:function(){ba=[]},getTrackedContentImpressions:function(){return ba},clearEnableTrackOnlyVisibleContent:function(){ja=!1},disableLinkTracking:function(){Ya=Aa=!1},getConfigVisitorCookieTimeout:function(){return La},getRemainingVisitorCookieTimeout:cb,getVisitorId:function(){return ta().uuid},getVisitorInfo:function(){return eb()},getAttributionInfo:function(){return ia()},getAttributionCampaignName:function(){return ia()[0]},getAttributionCampaignKeyword:function(){return ia()[1]},getAttributionReferrerTimestamp:function(){return ia()[2]},getAttributionReferrerUrl:function(){return ia()[3]},setTrackerUrl:function(a){T=a},getTrackerUrl:function(){return T},setPortalId:function(a){za=a},getPortalId:function(){return za},getpropId:function(){return P},setpropId:function(a){P=a;Ha()},setClientId:function(a){Kb=a},getClientId:function(){return Kb},setLogEventType:function(a){Lb=a},getLogEventType:function(){return Lb},setUserId:function(a){oa=a},getUserId:function(){return oa},setUserCookieId:function(a){Z=a},getUserCookieId:function(){return Z},setCustomData:function(a,b){c(a)?ea=a:(ea||(ea={}),ea[a]=b)},getCustomData:function(){return ea},setCustomRequestProcessing:function(a){Ra=a},appendToTrackingUrl:function(a){Qa=a},getRequest:function(a){return U(a)},addPlugin:function(a,b){ha[a]=b},setLinkTrackingTimer:function(a){L=a},setDownloadExtensions:function(a){ra=a},addDownloadExtensions:function(a){ra+="|"+a},setDomains:function(a){ua=d(a)?[a]:a;ua.push(Ja)},setIgnoreClasses:function(a){Gb=d(a)?[a]:a},setRequestMethod:function(a){hb=a||"GET"},setRequestContentType:function(a){gb=a||"application/x-www-form-urlencoded; charset=UTF-8"},setReferrerUrl:function(a){Oa=a},setCustomUrl:function(a){var b=mb,c;q(a)?wa=a:"/"===a.slice(0,1)?wa=q(b)+"://"+t(b)+a:(b=la(b),c=b.indexOf("?"),0<=c&&(b=b.slice(0,c)),c=b.lastIndexOf("/"),c!==b.length-1&&(b=b.slice(0,c+1)),wa=b+a)},setDocumentTitle:function(a){Sa=a},setAPIUrl:function(a){Jb=a},setDownloadClasses:function(a){qb=d(a)?[a]:a},setLinkClasses:function(a){rb=d(a)?[a]:a},setCampaignNameKey:function(a){xa=d(a)?[a]:a},setCampaignKeywordKey:function(a){ya=d(a)?[a]:a},discardHashTag:function(a){fb=a},setCookieNamePrefix:function(a){ib=a;a=N("cvar");a=G(a);a.length&&(a=JSON2.parse(a),c(a))},setCookieDomain:function(a){X=k(a);Ia()},setCookiePath:function(a){Y=a;Ia()},setVisitorCookieTimeout:function(a){La=1E3*a},setSessionCookieTimeout:function(a){Ma=1E3*a},setReferralCookieTimeout:function(a){nb=1E3*a},setConversionAttributionFirstReferrer:function(a){Na=a},disableCookies:function(){aa=!0;da.cookie="0"},deleteCookies:function(){lb()},setDoNotTrack:function(a){var b=M.doNotTrack||M.msDoNotTrack;(va=a&&("yes"===b||"1"===b))&&this.disableCookies()},addListener:function(a,b){Eb(a,b)},enableLinkTracking:function(a){Ya=!0;D?Fb(a):V.push(function(){Fb(a)})},enableJSErrorTracking:function(){if(!Ib){Ib=!0;var a=w.onerror;w.onerror=function(b,c,d,e,B){Q(function(){var a=c+":"+d;e&&(a+=":"+e);Ab("JavaScript Errors",a,b)});return a?a(b,c,d,e,B):!1}}},disablePerformanceTracking:function(){ob=!1},setGenerationTimeMs:function(a){Pa=parseInt(a,10)},setHeartBeatTimer:function(a,b){Ta=(new Date).getTime()+1E3*a;pa=1E3*b},killFrame:function(){w.location!==w.top.location&&(w.top.location=w.location)},redirectFile:function(a){"file:"===w.location.protocol&&(w.location=a)},setCountPreRendered:function(a){Cb=a},trackGoal:function(a,b,c){Q(function(){var d=U("idgoal="+a+(b?"&revenue="+b:""),c,"goal");H(d,L,!1)})},trackLink:function(a,b,c,d){Q(function(){Bb(a,b,c,d)})},trackPageView:function(a,b){ba=[];J(P)?Q(function(){Ob(T,Jb,P)}):Q(function(){Rb(a,b)})},trackAllContentImpressions:function(){J(P)||Q(function(){$a(function(){var a=C.findContentNodes(),a=Ba(a);R(a,L)})})},trackVisibleContentImpressions:function(b,c){J(P)||(a(b)||(b=!0),a(c)||(c=750),Hb(b,c,this),Q(function(){Ca(function(){var a=C.findContentNodes(),a=Za(a);R(a,L)})}))},trackContentImpression:function(a,b,c){!J(P)&&a&&(b=b||"Unknown",Q(function(){var d=yb(a,b,c);H(d,L,!0)}))},trackContentImpressionsWithinNode:function(a){!J(P)&&a&&Q(function(){ja?Ca(function(){var b=C.findContentNodesWithinNode(a),b=Za(b);R(b,L)}):$a(function(){var b=C.findContentNodesWithinNode(a),b=Ba(b);R(b,L)})})},trackContentInteraction:function(a,b,c,d){!J(P)&&(a&&b)&&(c=c||"Unknown",Q(function(){var e=sa(a,b,c,d);H(e,L,!0)}))},trackContentInteractionNode:function(a,b){!J(P)&&a&&Q(function(){var c=zb(a,b);H(c,L,!0)})},trackEvent:function(a,b,c,d,e,B,k,g,s){Q(function(){Ab(a,b,c,d,e,B,k,g,s)})},trackSiteSearch:function(b,c,d){Q(function(){var e=U("search="+y(b)+(c?"&search_cat="+y(c):"")+(a(d)?"&search_count="+d:""),void 0,"sitesearch");H(e,L,!0)})}}}var j,ha={},r=document,M=navigator,Ga=screen,w=window,$=w.performance||w.mozPerformance||w.msPerformance||w.webkitPerformance,D=!1,V=[],y=w.encodeURIComponent,W=w.decodeURIComponent,F=unescape,z,A,K,u={htmlCollectionToArray:function(a){var b=[],c;if(!a||!a.length)return b;for(c=0;c<a.length;c++)b.push(a[c]);return b},find:function(a){if(!document.querySelectorAll||!a)return[];a=document.querySelectorAll(a);return this.htmlCollectionToArray(a)},findMultiple:function(a){if(!a||!a.length)return[];var b,c,d=[];for(b=0;b<a.length;b++)c=this.find(a[b]),d=d.concat(c);return d=this.makeNodesUnique(d)},findNodesByTagName:function(a,b){if(!a||!b||!a.getElementsByTagName)return[];var c=a.getElementsByTagName(b);return this.htmlCollectionToArray(c)},makeNodesUnique:function(a){var b=[].concat(a);a.sort(function(a,c){if(a===c)return 0;var d=G(b,a),e=G(b,c);return d===e?0:d>e?-1:1});if(1>=a.length)return a;var c=0,d=0,e=[],k;for(k=a[c++];k;)k===a[c]&&(d=e.push(c)),k=a[c++]||null;for(;d--;)a.splice(e[d],1);return a},getAttributeValueFromNode:function(a,b){if(this.hasNodeAttribute(a,b)){if(a&&a.getAttribute)return a.getAttribute(b);if(a&&a.attributes&&"undefined"!==typeof a.attributes[b]){if(a.attributes[b].value)return a.attributes[b].value;if(a.attributes[b].nodeValue)return a.attributes[b].nodeValue;var c,d=a.attributes;if(d){for(c=0;c<d.length;c++)if(d[c].nodeName===b)return d[c].nodeValue;return null}}}},hasNodeAttributeWithValue:function(a,b){return!!this.getAttributeValueFromNode(a,b)},hasNodeAttribute:function(a,b){return a&&a.hasAttribute?a.hasAttribute(b):a&&a.attributes?"undefined"!==typeof a.attributes[b]:!1},hasNodeCssClass:function(a,b){if(a&&b&&a.className){var c=a.className.split(" ");if(-1!==G(c,b))return!0}return!1},findNodesHavingAttribute:function(a,b,c){c||(c=[]);if(!a||!b)return c;a=s(a);if(!a||!a.length)return c;var d,e;for(d=0;d<a.length;d++)e=a[d],this.hasNodeAttribute(e,b)&&c.push(e),c=this.findNodesHavingAttribute(e,b,c);return c},findFirstNodeHavingAttribute:function(a,b){if(a&&b){if(this.hasNodeAttribute(a,b))return a;var c=this.findNodesHavingAttribute(a,b);if(c&&c.length)return c[0]}},findFirstNodeHavingAttributeWithValue:function(a,b){if(a&&b){if(this.hasNodeAttributeWithValue(a,b))return a;var c=this.findNodesHavingAttribute(a,b);if(c&&c.length){var d;for(d=0;d<c.length;d++)if(this.getAttributeValueFromNode(c[d],b))return c[d]}}},findNodesHavingCssClass:function(a,b,c){c||(c=[]);if(!a||!b)return c;if(a.getElementsByClassName)return b=a.getElementsByClassName(b),this.htmlCollectionToArray(b);a=s(a);if(!a||!a.length)return[];var d,e;for(d=0;d<a.length;d++)e=a[d],this.hasNodeCssClass(e,b)&&c.push(e),c=this.findNodesHavingCssClass(e,b,c);return c},findFirstNodeHavingClass:function(a,b){if(a&&b){if(this.hasNodeCssClass(a,b))return a;var c=this.findNodesHavingCssClass(a,b);if(c&&c.length)return c[0]}},isLinkElement:function(a){if(!a)return!1;a=String(a.nodeName).toLowerCase();return-1!==G(["a","area"],a)},setAnyAttribute:function(a,b,c){a&&b&&(a.setAttribute?a.setAttribute(b,c):a[b]=c)}},C={CONTENT_ATTR:"data-track-content",CONTENT_CLASS:"piwikTrackContent",CONTENT_NAME_ATTR:"data-content-name",CONTENT_PIECE_ATTR:"data-content-piece",CONTENT_PIECE_CLASS:"piwikContentPiece",CONTENT_TARGET_ATTR:"data-content-target",CONTENT_TARGET_CLASS:"piwikContentTarget",CONTENT_IGNOREINTERACTION_ATTR:"data-content-ignoreinteraction",CONTENT_IGNOREINTERACTION_CLASS:"piwikContentIgnoreInteraction",location:void 0,findContentNodes:function(){return u.findMultiple(["."+this.CONTENT_CLASS,"["+this.CONTENT_ATTR+"]"])},findContentNodesWithinNode:function(a){if(!a)return[];var b=u.findNodesHavingCssClass(a,this.CONTENT_CLASS),c=u.findNodesHavingAttribute(a,this.CONTENT_ATTR);if(c&&c.length){var d;for(d=0;d<c.length;d++)b.push(c[d])}u.hasNodeAttribute(a,this.CONTENT_ATTR)?b.push(a):u.hasNodeCssClass(a,this.CONTENT_CLASS)&&b.push(a);return b=u.makeNodesUnique(b)},findParentContentNode:function(a){if(a)for(var b=0;a&&a!==r&&a.parentNode;){if(u.hasNodeAttribute(a,this.CONTENT_ATTR)||u.hasNodeCssClass(a,this.CONTENT_CLASS))return a;a=a.parentNode;if(1E3<b)break;b++}},findPieceNode:function(a){var b;(b=u.findFirstNodeHavingAttribute(a,this.CONTENT_PIECE_ATTR))||(b=u.findFirstNodeHavingClass(a,this.CONTENT_PIECE_CLASS));return b?b:a},findTargetNodeNoDefault:function(a){if(a){var b=u.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_TARGET_ATTR);if(b||(b=u.findFirstNodeHavingAttribute(a,this.CONTENT_TARGET_ATTR))||(b=u.findFirstNodeHavingClass(a,this.CONTENT_TARGET_CLASS)))return b}},findTargetNode:function(a){var b=this.findTargetNodeNoDefault(a);return b?b:a},findContentName:function(a){if(a){var b=u.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_NAME_ATTR);if(b)return u.getAttributeValueFromNode(b,this.CONTENT_NAME_ATTR);if(b=this.findContentPiece(a))return this.removeDomainIfIsInLink(b);if(u.hasNodeAttributeWithValue(a,"title"))return u.getAttributeValueFromNode(a,"title");b=this.findPieceNode(a);if(u.hasNodeAttributeWithValue(b,"title"))return u.getAttributeValueFromNode(b,"title");a=this.findTargetNode(a);if(u.hasNodeAttributeWithValue(a,"title"))return u.getAttributeValueFromNode(a,"title")}},findContentPiece:function(a){if(a){var b=u.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_PIECE_ATTR);if(b)return u.getAttributeValueFromNode(b,this.CONTENT_PIECE_ATTR);a=this.findPieceNode(a);if(a=this.findMediaUrlInNode(a))return this.toAbsoluteUrl(a)}},findContentTarget:function(a){if(a){var b=this.findTargetNode(a);if(u.hasNodeAttributeWithValue(b,this.CONTENT_TARGET_ATTR))return u.getAttributeValueFromNode(b,this.CONTENT_TARGET_ATTR);if(u.hasNodeAttributeWithValue(b,"href"))return a=u.getAttributeValueFromNode(b,"href"),this.toAbsoluteUrl(a);a=this.findPieceNode(a);if(u.hasNodeAttributeWithValue(a,"href"))return a=u.getAttributeValueFromNode(a,"href"),this.toAbsoluteUrl(a)}},isSameDomain:function(a){if(!a||!a.indexOf)return!1;if(0===a.indexOf(this.getLocation().origin))return!0;a=a.indexOf(this.getLocation().host);return 8>=a&&0<=a?!0:!1},removeDomainIfIsInLink:function(a){a&&(a.search&&-1!==a.search(/^https?:\/\/[^/]+/)&&this.isSameDomain(a))&&((a=a.replace(/^.*\/\/[^/]+/,""))||(a="/"));return a},findMediaUrlInNode:function(a){if(a){var b=a.nodeName.toLowerCase();if(-1!==G(["img","embed","video","audio"],b)&&u.findFirstNodeHavingAttributeWithValue(a,"src"))return a=u.findFirstNodeHavingAttributeWithValue(a,"src"),u.getAttributeValueFromNode(a,"src");if("object"===b&&u.hasNodeAttributeWithValue(a,"data"))return u.getAttributeValueFromNode(a,"data");if("object"===b){if((b=u.findNodesByTagName(a,"param"))&&b.length){var c;for(c=0;c<b.length;c++)if("movie"===u.getAttributeValueFromNode(b[c],"name")&&u.hasNodeAttributeWithValue(b[c],"value"))return u.getAttributeValueFromNode(b[c],"value")}if((a=u.findNodesByTagName(a,"embed"))&&a.length)return this.findMediaUrlInNode(a[0])}}},trim:function(a){return a&&String(a)===a?a.replace(/^\s+|\s+$/g,""):a},isOrWasNodeInViewport:function(a){if(!a||!a.getBoundingClientRect||1!==a.nodeType)return!0;var b=a.getBoundingClientRect(),c=r.documentElement||{},d=0>b.top;d&&a.offsetTop&&(d=0<a.offsetTop+b.height);a=c.clientWidth;w.innerWidth&&a>w.innerWidth&&(a=w.innerWidth);c=c.clientHeight;w.innerHeight&&c>w.innerHeight&&(c=w.innerHeight);return(0<b.bottom||d)&&0<b.right&&b.left<a&&(b.top<c||d)},isNodeVisible:function(a){var b=E(a);a=this.isOrWasNodeInViewport(a);return b&&a},buildInteractionRequestParams:function(a,b,c,d){var e="";a&&(e+="c_i="+y(a));b&&(e&&(e+="&"),e+="c_n="+y(b));c&&(e&&(e+="&"),e+="c_p="+y(c));d&&(e&&(e+="&"),e+="c_t="+y(d));return e},buildImpressionRequestParams:function(a,b,c){a="c_n="+y(a)+"&c_p="+y(b);c&&(a+="&c_t="+y(c));return a},buildContentBlock:function(a){if(a){var b=this.findContentName(a),c=this.findContentPiece(a);a=this.findContentTarget(a);b=this.trim(b);c=this.trim(c);a=this.trim(a);return{name:b||"Unknown",piece:c||"Unknown",target:a||""}}},collectContent:function(b){if(!b||!b.length)return[];var c=[],d,e;for(d=0;d<b.length;d++)e=this.buildContentBlock(b[d]),a(e)&&c.push(e);return c},setLocation:function(a){this.location=a},getLocation:function(){var a=this.location||w.location;a.origin||(a.origin=a.protocol+"//"+a.hostname+(a.port?":"+a.port:""));return a},toAbsoluteUrl:function(a){return a&&String(a)===a||""===a?""===a?this.getLocation().href:-1!==a.search(/^\/\//)?this.getLocation().protocol+a:-1!==a.search(/:\/\//)?a:0===a.indexOf("#")||0===a.indexOf("?")?this.getLocation().origin+this.getLocation().pathname+a:0===a.search("^[a-zA-Z]{2,11}:")?a:-1!==a.search(/^\//)?this.getLocation().origin+a:this.getLocation().origin+this.getLocation().pathname.match(/(.*\/)/)[0]+a:a},isUrlToCurrentDomain:function(a){a=this.toAbsoluteUrl(a);if(!a)return!1;var b=this.getLocation().origin;return b===a?!0:0===String(a).indexOf(b)?":"===String(a).substr(b.length,1)?!1:!0:!1},setHrefAttribute:function(a,b){a&&b&&u.setAnyAttribute(a,"href",b)},shouldIgnoreInteraction:function(a){var b=u.hasNodeAttribute(a,this.CONTENT_IGNOREINTERACTION_ATTR);a=u.hasNodeCssClass(a,this.CONTENT_IGNOREINTERACTION_CLASS);return b||a}};g(w,"beforeunload",function(){var a;p("unload");if(j){do a=new Date;while(a.getTimeAlias()<j)}},!1);(function(){var a;r.addEventListener?g(r,"DOMContentLoaded",function fa(){r.removeEventListener("DOMContentLoaded",fa,!1);f()}):r.attachEvent&&(r.attachEvent("onreadystatechange",function S(){"complete"===r.readyState&&(r.detachEvent("onreadystatechange",S),f())}),r.documentElement.doScroll&&w===w.top&&function ka(){if(!D){try{r.documentElement.doScroll("left")}catch(a){setTimeout(ka,0);return}f()}}());/WebKit/.test(M.userAgent)&&(a=setInterval(function(){if(D||/loaded|complete/.test(r.readyState))clearInterval(a),f()},10));g(w,"load",f,!1)})();Date.prototype.getTimeAlias=Date.prototype.getTime;z=new ma;var R={setTrackerUrl:1,setAPIUrl:1,setUserId:1,setUserCookieId:1,setClientId:1,setPortalId:1,setpropId:1,disableCookies:1,enableLinkTracking:1},H;for(A=0;A<_paqAcdp.length;A++)H=_paqAcdp[A][0],R[H]&&(e(_paqAcdp[A]),delete _paqAcdp[A],1<R[H]&&void 0!==console&&(console&&console.error)&&console.error("The method "+H+' is registered more than once in "_paq" variable. Only the last call has an effect. Please have a look at the multiple Piwik trackers documentation: http://developer.piwik.org/guides/tracking-javascript-guide#multiple-piwik-trackers'),R[H]++);for(A=0;A<_paqAcdp.length;A++)_paqAcdp[A]&&e(_paqAcdp[A]);_paqAcdp=new function(){return{push:e}};K={addPlugin:function(a,b){ha[a]=b},getTracker:function(b,c){a(c)||(c=this.getAsyncTracker().getpropId());a(b)||(b=this.getAsyncTracker().getTrackerUrl());return new ma(b,c)},getAsyncTracker:function(){return z}};"function"===typeof define&&define.amd&&define("piwik",[],function(){return K});return K}());window&&window.piwikAcdpAsyncInit&&window.piwikAcdpAsyncInit();(function(){"undefined"===typeof AnalyticsTracker&&(AnalyticsTracker=PiwikAcdp)})();"function"!==typeof piwik_acdp_log&&(piwik_acdp_log=function(a,b,c,d){function e(a){try{return eval("piwik_"+a)}catch(b){}}var g=PiwikAcdp.getTracker(c,b);g.setDocumentTitle(a);g.setCustomData(d);(a=e("tracker_pause"))&&g.setLinkTrackingTimer(a);(a=e("download_extensions"))&&g.setDownloadExtensions(a);(a=e("hosts_alias"))&&g.setDomains(a);(a=e("ignore_classes"))&&g.setIgnoreClasses(a);g.trackPageView();e("install_tracker")&&(piwik_track=function(a,b,c,d){g.setpropId(b);g.setTrackerUrl(c);g.trackLink(a,d)},g.enableLinkTracking())});function _ac_isIE(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}if(9==_ac_isIE())try{var STATIC_FILE_URL="//st-a.cdp.asia";_antsLoadScript(STATIC_FILE_URL+"/ie9.js")}catch(ex$$1){}function _ac_b64ToUint6(a){return 64<a&&91>a?a-65:96<a&&123>a?a-71:47<a&&58>a?a+4:43===a?62:47===a?63:0}function _ac_base64DecToArr(a,b){try{for(var c=a.replace(/[^A-Za-z0-9\+\/]/g,""),d=c.length,e=b?Math.ceil((3*d+1>>2)/b)*b:3*d+1>>2,g=new Uint8Array(e),p,f,n=0,v=0,q=0;q<d;q++)if(f=q&3,n|=_ac_b64ToUint6(c.charCodeAt(q))<<6*(3-f),3===f||1===d-q){for(p=0;3>p&&v<e;p++,v++)g[v]=n>>>(16>>>p&24)&255;n=0}return g}catch(t){return""}}function uint6ToB64(a){return 26>a?a+65:52>a?a+71:62>a?a-4:62===a?43:63===a?47:65}function _ac_base64EncArr(a){for(var b=2,c="",d=a.length,e=0,g=0;g<d;g++)if(b=g%3,0<g&&0===4*g/3%76&&(c+="\r\n"),e|=a[g]<<(16>>>b&24),2===b||1===a.length-g)c+=String.fromCharCode(uint6ToB64(e>>>18&63),uint6ToB64(e>>>12&63),uint6ToB64(e>>>6&63),uint6ToB64(e&63)),e=0;return c.substr(0,c.length-2+b)+(2===b?"":1===b?"=":"==")}function _ac_UTF8ArrToStr(a){for(var b="",c,d=a.length,e=0;e<d;e++)c=a[e],b+=String.fromCharCode(251<c&&254>c&&e+5<d?1073741824*(c-252)+(a[++e]-128<<24)+(a[++e]-128<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:247<c&&252>c&&e+4<d?(c-248<<24)+(a[++e]-128<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:239<c&&248>c&&e+3<d?(c-240<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:223<c&&240>c&&e+2<d?(c-224<<12)+(a[++e]-128<<6)+a[++e]-128:191<c&&224>c&&e+1<d?(c-192<<6)+a[++e]-128:c);return b}function _ac_strToUTF8Arr(a){var b,c;b=a.length;for(var d=0,e=0;e<b;e++)c=a.charCodeAt(e),d+=128>c?1:2048>c?2:65536>c?3:2097152>c?4:67108864>c?5:6;b=new Uint8Array(d);for(var g=e=0;e<d;g++)c=a.charCodeAt(g),128>c?b[e++]=c:(2048>c?b[e++]=192+(c>>>6):(65536>c?b[e++]=224+(c>>>12):(2097152>c?b[e++]=240+(c>>>18):(67108864>c?b[e++]=248+(c>>>24):(b[e++]=252+(c>>>30),b[e++]=128+(c>>>24&63)),b[e++]=128+(c>>>18&63)),b[e++]=128+(c>>>12&63)),b[e++]=128+(c>>>6&63)),b[e++]=128+(c&63));return b}function _ac_encryptBase64(a){if(9==_ac_isIE())return a;a=_ac_strToUTF8Arr(a);return _ac_base64EncArr(a)}function _ac_decryptBase64(a){if(9==_ac_isIE())return a;a=_ac_base64DecToArr(a);return _ac_UTF8ArrToStr(a)};var aiHelper=aiHelper||{};window.aiHelper.metaHelper=function(){this.init=function(){};this.getSectionByBreadCrumb=function(){var a=ai_meta_helper.getSectionByBreadCrumbByWithoutMarkup();if(void 0==a||""==a)a=ai_meta_helper.getSectionByBreadCrumbBySchemaOrg();return a};this.getSectionByBreadCrumbByWithoutMarkup=function(){var a="",b=null;try{if(null!==document.querySelector(".breadcrumb")){if(b=document.querySelector(".breadcrumb").querySelectorAll("li"),void 0==b||null==b||0>=b.length)b=document.querySelector(".breadcrumb").querySelectorAll("a")}else null!==document.querySelector('[itemprop="breadcrumb"]')&&(b=document.querySelectorAll('[itemprop="breadcrumb"]'));void 0!=b&&(null!=b&&0<b.length)&&(b.forEach(function(b){void 0!=b.innerText&&""!=b.innerText&&(b=b.innerText.trim(),""==b||50<b.length||(a+="/"+b))}),""!==a&&(a=a.substring(1)))}catch(c){}return a};this.getSectionByBreadCrumbBySchemaOrg=function(){var a="";try{var b=document.querySelector('script[type="application/ld+json"]');if(void 0!=b&&null!=b&&void 0!=b.innerText&&""!=b.innerText&&0<b.innerText.indexOf("schema.org")){var c=JSON.parse(b.innerText),b=!1;if("[object Array]"!==Object.prototype.toString.call(c)){var d=c,c=[];c.push(d)}for(var d=0,e=c.length;d<e&&!b;d++){var g=c[d],p=g["@type"];if("BreadcrumbList"==p){for(var b=!0,f=g.itemListElement,n=0,e=f.length;n<e;n++){var v=f[n].item.name;void 0!=v&&""!=v&&(v=v.trim());""==v||50<v.length||(a+="/"+v)}""!==a&&(a=a.substring(1))}else if("WebSite"==p){b=!0;a=g.name;break}}}if(""==a){var q=document.querySelectorAll('li[itemprop="itemListElement"]');if(void 0==q||""==q||null==q)q=document.querySelectorAll('li[property="itemListElement"]');void 0!=q&&(""!=q&&null!=q)&&(q.forEach(function(b){if(void 0!=b.innerText&&""!=b.innerText){b=b.innerText.trim();if(""==b||50<b.length)return!1;a+="/"+b}}),""!==a&&(a=a.substring(1)))}}catch(t){}return a}};window.aiHelper.urlHelper=function(){this.getSectionByAutoUrl=function(a){var b="";try{"undefined"===typeof a&&(a=window.location.href);var c=a.split("//");if("string"===typeof c[1]){var d=c[1],c=c[1].split("/");1>=c.length&&(c=d.split("#"));4<c.length&&(c.length=4);b=this.mappingSection(c)}else b=""}catch(e){}return b};this.mappingSection=function(a){var b="",c=a.length;if(1>=c||1>=a[1].length)return"home";for(i=1;i<c;i++)if(i==c-1){var d=this.validSectionLast(a[i]);null!=d&&(b=""==b?d:b+"/"+d)}else null!=this.validSection(a[i])&&(b=0==b.length?b+a[i]:b+"/"+a[i]);return b};this.validSection=function(a){if(2>a.length||50<a.length||-1<a.indexOf("?")||-1<a.indexOf(".")||-1<a.indexOf("#"))a=null;return a};this.validSectionLast=function(a){return-1<a.indexOf("?")&&(-1<a.indexOf("search")||-1<a.indexOf("query"))?"search":-1<a.indexOf("?")&&-1<a.indexOf("tag")?"tag":-1<a.indexOf("?")?null:2>a.length||50<a.length||-1<a.indexOf("index")||-1<a.indexOf("default")?null:a.split(".")[0]}};var ai_meta_helper=new window.aiHelper.metaHelper,ai_url_helper=new window.aiHelper.urlHelper;window.aiHelper.sectionHelper=function(){this.getSections=function(){var a="";try{if(a=ai_meta_helper.getSectionByBreadCrumb(),void 0==a||""==a)a=ai_url_helper.getSectionByAutoUrl()}catch(b){}if(""==a||void 0==a)a=!1;return a}};var ai_section_helper=new window.aiHelper.sectionHelper;var _CDP_LOG_TRACKING_URL="//a.cdp.asia",_CDP_STATIC_FILE_URL="//st-a.cdp.asia",_CDP_DELIVERY_URL="//st-e.cdp.asia/delivery",_CDP_ALLOW_CONSOLE_LOG=!1,ONESIGNAL_SDK_URL="//cdn.onesignal.com/sdks/OneSignalSDK.js",_CDP_CUSTOM_EVENT_URL="//st-a.cdp.asia/custom-event.js",_CDP_ENV="prod",_SCRIPT_VER="20230606",MAX_LENGTH_HTTP_REQUEST=1800;try{"staging"==_CDP_SDK_ENV&&(_CDP_ENV="staging")}catch(ex$$7){}try{"staging"==_CDP_SDK_EVN&&(_CDP_ENV="staging")}catch(ex$$8){}"sandbox"==_CDP_ENV?(_CDP_LOG_TRACKING_URL="//sandbox-a.cdp.asia",_CDP_STATIC_FILE_URL="//sandbox-st-a.cdp.asia",_CDP_DELIVERY_URL="//sandbox-st-e.cdp.asia/san-delivery",_CDP_CUSTOM_EVENT_URL="//sandbox-st-a.cdp.asia/custom-event.js"):"staging"==_CDP_ENV?_CDP_LOG_TRACKING_URL="//staging-a.cdp.asia":"vtv"==_CDP_ENV?(_CDP_LOG_TRACKING_URL="//a.vtvdigital.vn",_CDP_STATIC_FILE_URL="//st-a.vtvdigital.vn",_CDP_DELIVERY_URL="//st-e.cdp.asia/delivery"):"vtv_v2"==_CDP_ENV&&(_CDP_LOG_TRACKING_URL="//a-v2.vtvdigital.vn",_CDP_STATIC_FILE_URL="//st-a.vtvdigital.vn",_CDP_DELIVERY_URL="//st-e.cdp.asia/delivery");var web_event=web_event||{};web_event.version="1.0";web_event.loaded=1;web_event.locked=!1;var _cdp365SentPageviewUri="",_cdp365ClickRedirectUri=0,CDP_UID_1ST_COOKIE_NAME="_asm_uid",CDP_UID_3RD_COOKIE_NAME="au_id",CDP_VISITOR_TYPE_COOKIE_NAME="_asm_visitor_type",_CDP_GA_ACCOUNT_TRACKING_ID=_CDP_GA_ACCOUNT_TRACKING_ID||"",firstPartyUserId="",_portalId=_portalId||0,_propId=_propId||0,_uidfData=_uidfData||{},_CDP_DELIVERY_TRIGGER=_CDP_DELIVERY_TRIGGER;"undefined"==typeof _CDP_DELIVERY_TRIGGER&&(_CDP_DELIVERY_TRIGGER=!0);var _CDP_CUSTOM_EVENT=_CDP_CUSTOM_EVENT;"undefined"==typeof _CDP_CUSTOM_EVENT&&(_CDP_CUSTOM_EVENT=!0);var _cdp365Analytics=_cdp365Analytics||{},cdpEventFunctionHelper=cdpEventFunctionHelper||{};window.cdpEventFunctionHelper=function(){this.init=function(){window._cdpEventFunction.checkAndSyncExtUIDs()};this.replaceAll=function(a,b,c){return void 0!=a&&""!=a?a.replace(RegExp(b,"g"),c):a};this.setCookie=function(a,b,c,d,e,g){var p;void 0!=c&&(p=new Date,p.setTime(p.getTime()+c));var f=b+"";isNaN(b)&&(f=window.encodeURIComponent(b));a=a+"="+f+(c?";expires="+p.toGMTString():"")+";path="+(d||"/")+(e?";domain="+e:"")+(g?";secure":"");document.cookie=a};this.logInfo=function(a,b){_CDP_ALLOW_CONSOLE_LOG&&(void 0!=b?console.log(a,b):console.log(a))};this.getCookie=function(a){return(cookieMatch=RegExp("(^|;)[ ]*"+a+"=([^;]*)").exec(document.cookie))?window.decodeURIComponent(cookieMatch[2]):0};this.getUriParameter=function(a,b){try{for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==b){var g=e[1];""!=g&&150<g.length&&(g="");return g}}}catch(p){}return""};this.getURLParameter=function(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a){var e=d[1];""!=e&&150<e.length&&(e="");return e}}try{var g=window.location.href;if(0>g.indexOf("?utm")&&0<g.indexOf("utm_"))for(var p=g.substring(g.indexOf("utm_")),b=p.split("&"),c=0;c<b.length;c++)if(d=b[c].split("="),d[0]==a)return e=d[1],""!=e&&50<e.length&&(e=""),e}catch(f){}try{if(g=window.location.href,0<g.indexOf("?utm"))for(p=g.substring(g.indexOf("?utm")+1),b=p.split("&"),c=0;c<b.length;c++)if(d=b[c].split("="),d[0]==a)return e=d[1],""!=e&&50<e.length&&(e=""),e}catch(n){}return""};this.getReferrer=function(){var a="";try{a=window.top.document.referrer}catch(b){if(window.parent)try{a=window.parent.document.referrer}catch(c){a=""}}""===a&&(a=document.referrer);return a};this.getHostName=function(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a};this.getHostName=function(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a};this.checkHomePage=function(){var a=window.location.hostname,b=window.location.href,c="http://"+a+"/";0<=b.indexOf("https://")&&(c="https://"+a+"/");return c==b?1:0};this.checkIsWebview=function(){var a=!1;try{var b=window.navigator.standalone,c=window.navigator.userAgent.toLowerCase(),d=/safari/.test(c);if(/iphone|ipod|ipad/.test(c)){if(b||!d)b||d||(a=!0)}else c.includes("wv")&&(a=!0)}catch(e){}return a};this.getReferrerDomain=function(a){a="";var b=window._cdpEventFunction.getReferrer();void 0!=b&&(""!=b&&0<b.length)&&(b=window._cdpEventFunction.getHostName(b),void 0!=b&&""!=b&&(a=b.replace("www.","")));return a};this.getDefaultCookieDomain=function(){for(var a="net com edu org gov biz info".split(" "),b=0,c=a.length;b<c;++b)a.push(a[b]+"\\.vn"),a.push(a[b]+"\\.ph"),a.push(a[b]+"\\.us"),a.push(a[b]+"\\.id"),a.push(a[b]+"\\.sg"),a.push(a[b]+"\\.jp");a.push("vn");a.push("us");a.push("id");a.push("ph");a.push("jp");a.push("sg");var a=RegExp("(\\.?[^.]+\\.("+a.join("|")+")$)"),a=document.domain.match(a),d;null!==a?d=a[1]:(a=document.domain.match(/(\.?[^.]+\.?[^.]+$)/),null!==a&&(d=a[1]));"."==d[0]&&(d=d.substr(1));return d};this.sha1=function(a){var b=function(a,b){return a<<b|a>>>32-b},c=function(a){var b="",c,d;for(c=7;0<=c;c--)d=a>>>4*c&15,b+=d.toString(16);return b},d,e,g=[],p=1732584193,f=4023233417,n=2562383102,v=271733878,q=3285377520,t,h,l,m,k,x=[];a=utf8_encode(a);t=a.length;for(d=0;d<t-3;d+=4)e=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3),x.push(e);switch(t&3){case 0:d=2147483648;break;case 1:d=a.charCodeAt(t-1)<<24|8388608;break;case 2:d=a.charCodeAt(t-2)<<24|a.charCodeAt(t-1)<<16|32768;break;case 3:d=a.charCodeAt(t-3)<<24|a.charCodeAt(t-2)<<16|a.charCodeAt(t-1)<<8|128}for(x.push(d);14!==(x.length&15);)x.push(0);x.push(t>>>29);x.push(t<<3&4294967295);for(a=0;a<x.length;a+=16){for(d=0;16>d;d++)g[d]=x[a+d];for(d=16;79>=d;d++)g[d]=b(g[d-3]^g[d-8]^g[d-14]^g[d-16],1);e=p;t=f;h=n;l=v;m=q;for(d=0;19>=d;d++)k=b(e,5)+(t&h|~t&l)+m+g[d]+1518500249&4294967295,m=l,l=h,h=b(t,30),t=e,e=k;for(d=20;39>=d;d++)k=b(e,5)+(t^h^l)+m+g[d]+1859775393&4294967295,m=l,l=h,h=b(t,30),t=e,e=k;for(d=40;59>=d;d++)k=b(e,5)+(t&h|t&l|h&l)+m+g[d]+2400959708&4294967295,m=l,l=h,h=b(t,30),t=e,e=k;for(d=60;79>=d;d++)k=b(e,5)+(t^h^l)+m+g[d]+3395469782&4294967295,m=l,l=h,h=b(t,30),t=e,e=k;p=p+e&4294967295;f=f+t&4294967295;n=n+h&4294967295;v=v+l&4294967295;q=q+m&4294967295}k=c(p)+c(f)+c(n)+c(v)+c(q);return k.toLowerCase()};this._cdpGetLeadTime=function(){var a=new Date,b=a.getMonth()+1;10>parseInt(b)&&(b="0"+b);var c=a.getDate();10>parseInt(c)&&(c="0"+c);var d=a.getHours();10>parseInt(d)&&(d="0"+d);var e=a.getMinutes();10>parseInt(e)&&(e="0"+e);var g=a.getSeconds();10>parseInt(g)&&(g="0"+g);return a.getFullYear()+"-"+b+"-"+c+" "+d+":"+e+":"+g};this.md5=function(a){function b(a,b){var c,d,e,k,g;e=a&2147483648;k=b&2147483648;c=a&1073741824;d=b&1073741824;g=(a&1073741823)+(b&1073741823);return c&d?g^2147483648^e^k:c|d?g&1073741824?g^3221225472^e^k:g^1073741824^e^k:g^e^k}function c(a,c,d,e,k,g,f){a=b(a,b(b(c&d|~c&e,k),f));return b(a<<g|a>>>32-g,c)}function d(a,c,d,e,k,g,f){a=b(a,b(b(c&e|d&~e,k),f));return b(a<<g|a>>>32-g,c)}function e(a,c,d,e,k,g,f){a=b(a,b(b(c^d^e,k),f));return b(a<<g|a>>>32-g,c)}function g(a,c,d,e,k,g,f){a=b(a,b(b(d^(c|~e),k),f));return b(a<<g|a>>>32-g,c)}function p(a){var b="",c="",d;for(d=0;3>=d;d++)c=a>>>8*d&255,c="0"+c.toString(16),b+=c.substr(c.length-2,2);return b}var f=[],n,v,q,t,h,l,m,k;a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}(a);f=function(a){var b,c=a.length;b=c+8;for(var d=16*((b-b%64)/64+1),e=Array(d-1),k=0,g=0;g<c;)b=(g-g%4)/4,k=8*(g%4),e[b]|=a.charCodeAt(g)<<k,g++;b=(g-g%4)/4;e[b]|=128<<8*(g%4);e[d-2]=c<<3;e[d-1]=c>>>29;return e}(a);h=1732584193;l=4023233417;m=2562383102;k=271733878;for(a=0;a<f.length;a+=16)n=h,v=l,q=m,t=k,h=c(h,l,m,k,f[a+0],7,3614090360),k=c(k,h,l,m,f[a+1],12,3905402710),m=c(m,k,h,l,f[a+2],17,606105819),l=c(l,m,k,h,f[a+3],22,3250441966),h=c(h,l,m,k,f[a+4],7,4118548399),k=c(k,h,l,m,f[a+5],12,1200080426),m=c(m,k,h,l,f[a+6],17,2821735955),l=c(l,m,k,h,f[a+7],22,4249261313),h=c(h,l,m,k,f[a+8],7,1770035416),k=c(k,h,l,m,f[a+9],12,2336552879),m=c(m,k,h,l,f[a+10],17,4294925233),l=c(l,m,k,h,f[a+11],22,2304563134),h=c(h,l,m,k,f[a+12],7,1804603682),k=c(k,h,l,m,f[a+13],12,4254626195),m=c(m,k,h,l,f[a+14],17,2792965006),l=c(l,m,k,h,f[a+15],22,1236535329),h=d(h,l,m,k,f[a+1],5,4129170786),k=d(k,h,l,m,f[a+6],9,3225465664),m=d(m,k,h,l,f[a+11],14,643717713),l=d(l,m,k,h,f[a+0],20,3921069994),h=d(h,l,m,k,f[a+5],5,3593408605),k=d(k,h,l,m,f[a+10],9,38016083),m=d(m,k,h,l,f[a+15],14,3634488961),l=d(l,m,k,h,f[a+4],20,3889429448),h=d(h,l,m,k,f[a+9],5,568446438),k=d(k,h,l,m,f[a+14],9,3275163606),m=d(m,k,h,l,f[a+3],14,4107603335),l=d(l,m,k,h,f[a+8],20,1163531501),h=d(h,l,m,k,f[a+13],5,2850285829),k=d(k,h,l,m,f[a+2],9,4243563512),m=d(m,k,h,l,f[a+7],14,1735328473),l=d(l,m,k,h,f[a+12],20,2368359562),h=e(h,l,m,k,f[a+5],4,4294588738),k=e(k,h,l,m,f[a+8],11,2272392833),m=e(m,k,h,l,f[a+11],16,1839030562),l=e(l,m,k,h,f[a+14],23,4259657740),h=e(h,l,m,k,f[a+1],4,2763975236),k=e(k,h,l,m,f[a+4],11,1272893353),m=e(m,k,h,l,f[a+7],16,4139469664),l=e(l,m,k,h,f[a+10],23,3200236656),h=e(h,l,m,k,f[a+13],4,681279174),k=e(k,h,l,m,f[a+0],11,3936430074),m=e(m,k,h,l,f[a+3],16,3572445317),l=e(l,m,k,h,f[a+6],23,76029189),h=e(h,l,m,k,f[a+9],4,3654602809),k=e(k,h,l,m,f[a+12],11,3873151461),m=e(m,k,h,l,f[a+15],16,530742520),l=e(l,m,k,h,f[a+2],23,3299628645),h=g(h,l,m,k,f[a+0],6,4096336452),k=g(k,h,l,m,f[a+7],10,1126891415),m=g(m,k,h,l,f[a+14],15,2878612391),l=g(l,m,k,h,f[a+5],21,4237533241),h=g(h,l,m,k,f[a+12],6,1700485571),k=g(k,h,l,m,f[a+3],10,2399980690),m=g(m,k,h,l,f[a+10],15,4293915773),l=g(l,m,k,h,f[a+1],21,2240044497),h=g(h,l,m,k,f[a+8],6,1873313359),k=g(k,h,l,m,f[a+15],10,4264355552),m=g(m,k,h,l,f[a+6],15,2734768916),l=g(l,m,k,h,f[a+13],21,1309151649),h=g(h,l,m,k,f[a+4],6,4149444226),k=g(k,h,l,m,f[a+11],10,3174756917),m=g(m,k,h,l,f[a+2],15,718787259),l=g(l,m,k,h,f[a+9],21,3951481745),h=b(h,n),l=b(l,v),m=b(m,q),k=b(k,t);return(p(h)+p(l)+p(m)+p(k)).toLowerCase()};this.getPageviewIDAI=function(){if(null!=("undefined"!==typeof window&&null!==window?window._ispv:void 0))return"undefined"!==typeof window&&null!==window?window._ispv:void 0;"undefined"!==typeof window&&null!==window&&(window._ispv=(new Date).getTime());return"undefined"!==typeof window&&null!==window?window._ispv:void 0};this._ea_get_utm=function(){var a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};try{var b=window.location.href;if(0<b.indexOf("utm_"))return a={source:window._cdpEventFunction.getURLParameter("utm_source"),medium:window._cdpEventFunction.getURLParameter("utm_medium"),campaign:window._cdpEventFunction.getURLParameter("utm_campaign"),content:window._cdpEventFunction.getURLParameter("utm_content"),term:window._cdpEventFunction.getURLParameter("utm_term"),type:"direct",time:(new Date).getTime(),checksum:"",checksum:"*"};if(0<b.indexOf("code_chanel"))return a={source:window._cdpEventFunction.getURLParameter("code_chanel"),medium:"",campaign:window._cdpEventFunction.getURLParameter("id_campaign"),content:window._cdpEventFunction.getURLParameter("id_landingpage"),term:window._cdpEventFunction.getURLParameter("id"),type:"direct",time:(new Date).getTime(),checksum:""},a.checksum=_ea_utm_checksum(a),a;if(0<b.indexOf("itm_"))return a={source:window._cdpEventFunction.getURLParameter("itm_source"),medium:window._cdpEventFunction.getURLParameter("itm_medium"),campaign:window._cdpEventFunction.getURLParameter("itm_campaign"),content:window._cdpEventFunction.getURLParameter("itm_content"),term:window._cdpEventFunction.getURLParameter("itm_term"),type:"associate_itm",time:(new Date).getTime(),checksum:"",checksum:"*"};if(0<b.indexOf("doubleclick")||0<b.indexOf("gclsrc"))return a={source:"google",medium:"cpc",campaign:"DoubleClick",content:"DoubleClick",term:"DoubleClick",type:"referrer",time:(new Date).getTime(),checksum:""},a.checksum=window._cdpEventFunction._ea_utm_checksum(a),a;if(0<b.indexOf("gclid"))return a={source:"google",medium:"cpc",campaign:"adwords",content:"adwords",term:"adwords",type:"referrer",time:(new Date).getTime(),checksum:""},a.checksum=window._cdpEventFunction._ea_utm_checksum(a),a;var c=window._cdpEventFunction.getCookie("_utm_objs");if((void 0==c||""==c)&&"undefined"!==typeof Storage)try{c=window.localStorage._utm_objs}catch(d){}if(void 0!=c&&""!=c){var e=_ac_decryptBase64(c);if(void 0!=e&&""!=e){var a=JSON2.parse(e),g=window._cdpEventFunction._ea_utm_checksum(a);if(g==a.checksum||"*"==a.checksum)return a}}if("undefined"!==typeof Storage)try{if(c=window.localStorage._utm_objs,void 0!=c&&""!=c){e=_ac_decryptBase64(c);if(void 0!=e&&""!=e&&(a=JSON2.parse(e),g=window._cdpEventFunction._ea_utm_checksum(a),g!=a.checksum&&"*"!=a.checksum))return a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};var p=a.time+15552E6;if((new Date).getTime()>p)window.localStorage._utm_objs="";else{b="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(b=_cdp365Analytics.first_party_domain)}catch(f){}window._cdpEventFunction.setCookie("_utm_objs",c,15552E6,"/",b,0);return a}}}catch(n){}}catch(v){}return a};this._ea_utm_checksum=function(a){try{return _ac_encryptBase64(a.source+"-"+a.medium+"-"+a.campaign+"-"+a.time)}catch(b){}return""};this._ea_save_utm=function(a){try{var b="",c=!1,d=window.location.href;if(0<d.indexOf("utm_"))var e={source:window._cdpEventFunction.getURLParameter("utm_source"),medium:window._cdpEventFunction.getURLParameter("utm_medium"),campaign:window._cdpEventFunction.getURLParameter("utm_campaign"),content:window._cdpEventFunction.getURLParameter("utm_content"),term:window._cdpEventFunction.getURLParameter("utm_term"),type:"direct",time:(new Date).getTime(),checksum:"",checksum:"*"},b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("code_chanel"))e={source:window._cdpEventFunction.getURLParameter("code_chanel"),medium:"",campaign:window._cdpEventFunction.getURLParameter("id_campaign"),content:window._cdpEventFunction.getURLParameter("id_landingpage"),term:window._cdpEventFunction.getURLParameter("id"),type:"direct",time:(new Date).getTime(),checksum:""},e.checksum=window._cdpEventFunction._ea_utm_checksum(e),b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("itm_"))e={source:window._cdpEventFunction.getURLParameter("itm_source"),medium:window._cdpEventFunction.getURLParameter("itm_medium"),campaign:window._cdpEventFunction.getURLParameter("itm_campaign"),content:window._cdpEventFunction.getURLParameter("itm_content"),term:window._cdpEventFunction.getURLParameter("itm_term"),type:"associate_itm",time:(new Date).getTime(),checksum:"",checksum:"*"},b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("doubleclick")||0<d.indexOf("gclsrc"))e={source:"google",medium:"cpc",campaign:"DoubleClick",content:"DoubleClick",term:"DoubleClick",type:"referrer",time:(new Date).getTime(),checksum:""},e.checksum=window._cdpEventFunction._ea_utm_checksum(e),b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("gclid"))e={source:"google",medium:"cpc",campaign:"adwords",content:"adwords",term:"adwords",type:"referrer",time:(new Date).getTime(),checksum:""},e.checksum=window._cdpEventFunction._ea_utm_checksum(e),b=JSON2.stringify(e),c=!0;else{var g=window._cdpEventFunction.getReferrerDomain(),p=window._cdpEventFunction.getDefaultCookieDomain(),f=window._cdpEventFunction._ea_get_utm();if(void 0!=g&&""!=g&&void 0!=p&&""!=p&&0>g.indexOf(p)||""==f.source&&void 0!=g&&""!=g&&0>g.indexOf(p)){if(d=g,g="referrer",p="","undefined"==typeof a||!a.includes(d)){if(void 0!=d&&""!=d)if(0<d.indexOf("googleadservices")||0<d.indexOf("gclid"))d="google",g="cpc",p="adwords";else if(0<d.indexOf("doubleclick")||0<d.indexOf("gclsrc"))d="google",g="cpc",p="doubleclick";e={source:d,medium:g,campaign:p,content:"",term:"",type:"referrer",time:(new Date).getTime(),checksum:""};c=!0;e.checksum=window._cdpEventFunction._ea_utm_checksum(e);b=JSON2.stringify(e)}}else""==g&&(void 0!=p&&""!=p&&""==f.source)&&(b="",c=!0)}if(c){var n=_ac_encryptBase64(b);a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(v){}window._cdpEventFunction.setCookie("_utm_objs",n,15552E6,"/",a,0);"undefined"!==typeof Storage&&(c||b)&&(window.localStorage._utm_objs=n)}}catch(q){}};this._ea_get_atm=function(){var a=window._cdpEventFunction._ea_get_atm_detail();try{if("direct"==a.type)return a;var b=window.location.href,c=0<b.indexOf("?utm_")||0<b.indexOf("&utm_"),c=c||0<b.indexOf("?itm_")||0<b.indexOf("&itm_");if(!c&&""!=a.type&&"undefined"!=typeof a.type)return a;"undefined"==typeof _ATM_TRACKING_ASSOCIATE_UTM?_ATM_TRACKING_ASSOCIATE_UTM=1:c&&(_ATM_TRACKING_ASSOCIATE_UTM=1);if(0<parseInt(_ATM_TRACKING_ASSOCIATE_UTM)){var d=window._cdpEventFunction._ea_get_utm();void 0!=d.source&&""!=d.source&&(a.source=d.source,a.time=d.time,a.type="associate_utm");a.campaign=void 0!=d.campaign&&""!=d.campaign?d.campaign:"";a.medium=void 0!=d.medium&&""!=d.medium?d.medium:"";a.content=void 0!=d.content&&""!=d.content?d.content:"";a.term=void 0!=d.term&&""!=d.term?d.term:"";a.checksum="*";window._cdpEventFunction._ea_save_atm(a);return a}}catch(e){}return a};this._ea_get_atm_detail=function(){var a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};try{if(0<window.location.href.indexOf("atm_"))return a={source:window._cdpEventFunction.getURLParameter("atm_source"),medium:window._cdpEventFunction.getURLParameter("atm_medium"),campaign:window._cdpEventFunction.getURLParameter("atm_campaign"),content:window._cdpEventFunction.getURLParameter("atm_content"),term:window._cdpEventFunction.getURLParameter("atm_term"),type:"direct",time:(new Date).getTime(),checksum:"",checksum:"*"},window._cdpEventFunction._ea_save_atm(a),a;var b=window._cdpEventFunction.getCookie("_atm_objs");if((void 0==b||""==b)&&"undefined"!==typeof Storage)try{b=window.localStorage._atm_objs}catch(c){}if(void 0!=b&&""!=b){var d=_ac_decryptBase64(b);if(void 0!=d&&""!=d)return a=JSON2.parse(d),a.type="on_session",a}if("undefined"!==typeof Storage)try{if(b=window.localStorage._atm_objs,void 0!=b&&""!=b){d=_ac_decryptBase64(b);void 0!=d&&""!=d&&(a=JSON2.parse(d));var e=a.time+15552E6;if((new Date).getTime()>e)window.localStorage._atm_objs="",a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};else{d="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(d=_cdp365Analytics.first_party_domain)}catch(g){}window._cdpEventFunction.setCookie("_atm_objs",b,15552E6,"/",d,0);a.type="on_session"}return a}}catch(p){}}catch(f){}return a};this._ea_check_atm_save=0;this._ea_save_atm=function(a){try{if(1!=window._cdpEventFunction._ea_check_atm_save){var b=JSON2.stringify(a),c=_ac_encryptBase64(b);a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(d){}window._cdpEventFunction.setCookie("_atm_objs",c,15552E6,"/",a,0);window._cdpEventFunction._ea_check_atm_save=1;"undefined"!==typeof Storage&&b&&(window.localStorage._atm_objs=c)}}catch(e){}};this._ea_save_event=function(a){try{if(void 0!=a&&""!=a){var b={action:a,time:(new Date).getTime()},c=JSON2.stringify(b);key="_is_event_his";window._cdpEventFunction.setCookie(key,c,36E5,"/","",0);"undefined"!==typeof Storage&&key&&localStorage.setItem(key,_is_gc)}}catch(d){}};this._ea_get_event=function(){var a="";try{key="_is_event_his";var b="",c=window._cdpEventFunction.getCookie(key);if(void 0!=c&&""!=c)b=JSON2.parse(c);else if("undefined"!==typeof Storage)try{if(c=localStorage.getItem(key),void 0!=c&&""!=c){var b=JSON2.parse(c),d=b.time+36E5;(new Date).getTime()>d&&localStorage.setItem(key,"")}}catch(e){}""!=b&&(a=b.action)}catch(g){}return a};this._ea_save_click_beacon_cookie=function(a,b,c,d){try{if(void 0!=a&&""!=a){var e=JSON2.stringify({click_bc:a,time:b});key="_clk_bc";a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(g){}window._cdpEventFunction.setCookie(key,e,c,"/",a,0);d&&"undefined"!==typeof Storage&&localStorage.setItem(key,e)}}catch(p){}};this._ea_save_click_beacon=function(a){try{window._cdpEventFunction._ea_save_click_beacon_cookie(a,(new Date).getTime(),15552E6,!0)}catch(b){}};this._ea_get_click_beacon=function(){var a="";try{if(0<window.location.href.indexOf("_clk_bc")){var b=window._cdpEventFunction.getURLParameter("_clk_bc");if(!1!=b&&void 0!=b&&""!=b)return window._cdpEventFunction._ea_save_click_beacon(b),b}key="_clk_bc";var b="",c=window._cdpEventFunction.getCookie(key);if(void 0!=c&&""!=c)b=JSON2.parse(c);else if("undefined"!==typeof Storage)try{var d=localStorage.getItem(key);if(void 0!=d&&""!=d){var b=JSON2.parse(d),e=b.time+15552E6;(new Date).getTime()>e?(localStorage.setItem(key,""),b=""):window._cdpEventFunction._ea_save_click_beacon_cookie(b.click_bc,b.time,e,!1)}}catch(g){}""!=b&&(a=b.click_bc)}catch(p){}return a};this._ea_set_cdp_cusid=function(a,b){try{if(void 0!=a&&""!=a||"undefined"!=typeof b&&b){var c=a.trim(),d="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(d=_cdp365Analytics.first_party_domain)}catch(e){}window._cdpEventFunction.setCookie("_cdp_cusid",c,31536E6,"/",d,0);"undefined"!==typeof Storage&&localStorage.setItem("_cdp_cusid",c)}}catch(g){}};this._ea_get_cdp_cusid=function(){try{var a=window._cdpEventFunction.getCookie("_cdp_cusid");if(void 0!=a&&""!=a)return a;if("undefined"!==typeof Storage)try{if(a=localStorage.getItem("_cdp_cusid"),void 0!=a&&""!=a)return a}catch(b){}}catch(c){}return""};this._ea_set_visitorType=function(a,b){try{var c="n";if(0==parseInt(a))if(c="r",void 0==b||null==b||""==b||0==b)c="n";else{var d=window._cdpEventFunction.getCookie("_cdp_fsid");void 0!=d&&(null!=d&&""!=d&&0!=d)&&(c="n")}else{c="n";if(void 0==b||null==b||""==b||0==b)b=1;d="";"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(d=_cdp365Analytics.first_party_domain);window._cdpEventFunction.setCookie("_cdp_fsid",b+"",18E5,"/",d,0)}d=CDP_VISITOR_TYPE_COOKIE_NAME;window._cdpEventFunction.setCookie(d,c,2592E6,"/","",0);"undefined"!==typeof Storage&&localStorage.setItem(d,c)}catch(e){}};this._ea_get_visitorType=function(){var a="new";try{var b=CDP_VISITOR_TYPE_COOKIE_NAME,a=window._cdpEventFunction.getCookie(b);if(void 0==a||null==a||""==a||0==a)a=localStorage.getItem(b);a=void 0==a||null==a||""==a||0==a||"n"==a?"new":"returning"}catch(c){}return a};this.getProductEcommeceProperty=function(a){var b=a||{};try{var c=void 0!=a.name?a.name:"";""!=c&&(c=_cdpEventFunction.replaceAll(c,'"',""),c=_cdpEventFunction.replaceAll(c,"&quot;",""),100<c.length&&(c=c.substring(0,100)));b.type="product";b.name=c;b.id=void 0!=a.id?a.id:"";"undefined"!=typeof a.sku&&(b.sku=a.sku);"undefined"!=typeof a.price&&(b.price=0<parseFloat(a.price)?parseFloat(a.price):0);"undefined"!=typeof a.quantity&&(b.quantity=0<parseFloat(a.quantity)?parseFloat(a.quantity):0);"undefined"!=typeof a.currency&&(b.currency=void 0!=a.currency?a.currency:"VND");"undefined"!=typeof a.link&&(b.link=a.link,200<b.link.length&&(b.link=b.link.substring(0,200)));"undefined"!=typeof a.page_url&&(b.page_url=a.page_url,200<b.page_url.length&&(b.page_url=b.page_url.substring(0,200)));"undefined"!=typeof a.publish_date&&(b.publish_date=a.publish_date);"undefined"!=typeof a.brand&&(b.brand=a.brand);"undefined"!=typeof a.category&&(b.category=a.category);"undefined"!=typeof a.image_url&&(b.image_url=a.image_url,null!=a.image_url&&200<b.image_url.length&&(b.image_url=b.image_url.substring(0,200)));"undefined"!=typeof a.desc&&(b.desc=a.desc);"undefined"!=typeof a.variant&&(b.variant=a.variant);"undefined"!=typeof a.others&&(b.others=a.others)}catch(d){console.log("cdp log wrn product: ",a)}return b};this.getLeadFormOnEventProperty=function(a){a=a||{};a.type="lead";a.site=window._propId;var b=void 0!=a.name?a.name:"",c=void 0!=a.phone?a.phone:"",d=void 0!=a.email?a.email:"";if(""!=c||""!=d){var e=parseInt((new Date).getTime()/1E3),b=window._cdpEventFunction.md5(b+":"+c+":"+d+":"+e);a.upkey=b;a.time_in_seconds=e}if("undefined"==typeof a.id||""==a.id)a.id=a.upkey;return a};this.getItemOnEventProperty=function(a){var b=a||{},c=void 0!=a.name?a.name:"";""!=c&&(c=_cdpEventFunction.replaceAll(c,'"',""),c=_cdpEventFunction.replaceAll(c,"&quot;",""));b.name=c;b.id=void 0!=a.id?a.id:"";"undefined"==typeof b.type&&(b.type=b.item_type);if(""==b.id&&("lead"==b.type||"lead"==b.item_type)){var c=void 0!=b.name?b.name:"",d=void 0!=b.phone?b.phone:"",e=void 0!=b.email?b.email:"";a=parseInt((new Date).getTime()/1E3);c=window._cdpEventFunction.md5(c+":"+d+":"+e+":"+a);b.time_in_seconds=a;b.id=c;"undefined"==typeof b.lead_time&&(b.lead_time=window._cdpEventFunction._cdpGetLeadTime());"undefined"==typeof b.lead_locate&&(b.lead_locate=window.location.href)}return b};this.getObjectPropsSafely=function(a,b,c){b=b.split(".");for(var d=0;d<b.length;d++){var e=b[d];if(a&&"object"===typeof a&&a.hasOwnProperty(e))a=a[e];else return c}return void 0!==a?a:c};this.waitForElement=function(a){try{var b=a.selector,c,d=a.interval||500,e=a.loop||10,g=a.mode||"single",p=a.type||"element",f=a.callback;if("string"!=typeof b)return 0;var n=0,d=setInterval(function(){n++;try{var q;switch(p){case"element":c=a.root||document;q=c.querySelector(b);break;case"variable":c=a.root||window;q=window._cdpEventFunction.getObjectPropsSafely(c,b);break;case"xpath":c=a.root||document,q=document.evaluate(b,c,null,XPathResult.ANY_TYPE,null)}if(q){if("function"==typeof f){if("multiple"==g)switch(p){case"element":q=c.querySelectorAll(b);break;case"xpath":for(var t=[],h=q.iterateNext();h;)arrary=t.push(h),h=q.iterateNext();q=t}else switch(p){case"xpath":q=q.iterateNext()}f(q)}clearInterval(d)}}catch(l){console.log("cdp log: ",l)}n>e&&clearInterval(d)},d);return 1}catch(v){return console.log("cdp log: ",v),0}};this.getAndSetGAUid=function(a,b){try{b&&1==a?window._cdpEventFunction.getExtUIDs(!1):b&&2==a&&gtag("get",_CDP_GA_ACCOUNT_TRACKING_ID,"client_id",function(a){if(void 0!=a&&""!=a){a={ga_uid:a,ga_acc_id:_CDP_GA_ACCOUNT_TRACKING_ID};try{var b=/_fbp=(fb\.1\.\d+\.\d+)/.exec(window.document.cookie);b&&b[1]&&(a.fb_uid=b[1])}catch(c){}window._cdpEventFunction.setExtUIDs(a,!0)}})}catch(c){console.log("cdp log: ",c)}};this.checkAndSyncExtUIDs=function(){var a=window._cdpEventFunction.getExtUIDs(!0);try{if(0>=Object.keys(a).length||void 0==a.ga_uid||""==a.ga_uid){var b=0;"function"==typeof ga&&(b=1);"function"==typeof gtag&&(b=2);var c=!("undefined"==typeof _CDP_GA_ACCOUNT_TRACKING_ID||""==_CDP_GA_ACCOUNT_TRACKING_ID);0!=b&&c?0<b&&window._cdpEventFunction.getAndSetGAUid(b,c):setTimeout(function(){"function"==typeof ga&&(b=1);"function"==typeof gtag&&(b=2);c=!("undefined"==typeof _CDP_GA_ACCOUNT_TRACKING_ID||""==_CDP_GA_ACCOUNT_TRACKING_ID);window._cdpEventFunction.getAndSetGAUid(b,c)},2E3)}}catch(d){console.log("cdp log: ",d)}};this.getExtUIDs=function(a){try{var b={},c="";if(a&&(c=window._cdpEventFunction.getCookie("_cdp_ext_uids"),void 0!=c&&""!=c&&(b=JSON2.parse(c),void 0!=b.ga_acc_id&&null!=b.ga_acc_id&&""!=b.ga_acc_id)))return b;a=!1;b={time:(new Date).getTime()};if("undefined"!=typeof _CDP_GA_ACCOUNT_TRACKING_ID&&""!=_CDP_GA_ACCOUNT_TRACKING_ID&&"undefined"!=typeof ga){var d="",e=ga.getAll(),g,p;g=0;for(p=e.length;g<p;g+=1)e[g].get("trackingId")===_CDP_GA_ACCOUNT_TRACKING_ID&&(d=e[g].get("clientId"));void 0!=d&&""!=d&&(b.ga_uid=d,b.ga_acc_id=_CDP_GA_ACCOUNT_TRACKING_ID,a=!0)}var f=/_fbp=(fb\.1\.\d+\.\d+)/.exec(window.document.cookie);f&&f[1]&&(b.fb_uid=f[1]);0<Object.keys(b).length&&a&&(c=JSON2.stringify(b),window._cdpEventFunction.setCookie("_cdp_ext_uids",c,36E5,"/","",0));return b}catch(n){return console.log("cdp log: ",n),{}}};this.setExtUIDs=function(a,b){try{var c={};if(b)var d="_cdp_ext_uids",e=window._cdpEventFunction.getCookie(d),c=void 0!=e&&""!=e?JSON2.parse(e):{time:(new Date).getTime()};var g=!1;0<Object.keys(a).length&&(void 0!=a.ga_uid&&""!=a.ga_uid&&(c.ga_uid=a.ga_uid,c.ga_acc_id=a.ga_acc_id,g=!0),void 0!=a.fb_uid&&""!=a.fb_uid&&(c.fb_uid=a.fb_uid,g=!0));0<Object.keys(c).length&&g&&(c.time=(new Date).getTime(),e=JSON2.stringify(c),window._cdpEventFunction.setCookie(d,e,36E5,"/","",0));return c}catch(p){return console.log("cdp log: ",p),{}}}};var _cdpEventFunction=new window.cdpEventFunctionHelper;_cdpEventFunction.init();var _cdp_sent_sites;if("undefined"==typeof _cdp_sent_sites||null==_cdp_sent_sites)_cdp_sent_sites=[];var ai_sent_counter=0,cdp365Setting=cdp365Setting||{};window.cdp365Setting=function(){this.init=function(){window._cdp365Setting.getDataConfig()};this.getDataConfig=function(){try{var a=window._cdpEventFunction.getCookie("_cdp_cfg");if(void 0!=a&&0!=a)if("1"==a||1==a)window._cdpEventFunction._ea_save_utm();else try{var b=JSON.parse(decodeURI(a));"undefined"!=typeof b.refferal_exclusion&&window._cdpEventFunction._ea_save_utm(b.refferal_exclusion)}catch(c){}else{var d=window._portalId,e=window._propId;void 0==d&&(d=_portalId);void 0==e&&(e=_propId);var a=_CDP_LOG_TRACKING_URL+"/get_data?portal_id="+d+"&prop_id="+e+"&scope=refferal_exclusion",g=document.createElement("script");g.type="text/javascript";g.async=!0;g.src=a;var p=document.getElementsByTagName("script")[0];p.parentNode.insertBefore(g,p)}}catch(f){console.log("cdp365 warning:"+f)}};this.getDataCallback=function(a){try{if("undefined"!=typeof a&&a.status&&"undefined"!=typeof a.data){var b=a.data,c=!1;"undefined"!=typeof b.refferal_exclusion&&(c=!0,window._cdpEventFunction._ea_save_utm(b.refferal_exclusion));a="1";c&&(a=window.encodeURI(JSON.stringify(b)));b="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(b=_cdp365Analytics.first_party_domain)}catch(d){}window._cdpEventFunction.setCookie("_cdp_cfg",a,3E5,"/",b,0)}}catch(e){console.log("cdp365 getDataCallback warning:"+e)}}};var _cdp365Setting=new window.cdp365Setting;_cdp365Setting.init();var cdp365DeliveryPush=function(a){window.cdp_delivery=window.cdp_delivery||[];window.cdp_delivery.push(a);"sandbox"==_CDP_ENV&&console.log("push event to delivery: ",a)},cdp365DeliveryCheckAndPush=function(a){try{var b=window._cdp365JourneySetting;"undefined"==typeof b&&"undefined"!=typeof _cdp365JourneySetting&&(b=_cdp365JourneySetting);var c=!0;if("undefined"!=typeof b){var d=b.jrequest_events,e=b.jrequest_zones,b=!0;try{void 0!=e&&("object"!=typeof e&&"none"==e)&&(c=b=!1)}catch(g){}if("object"==typeof d&&0<=Object.keys(d).length&&b){for(var c=!1,p=a.ec+"."+a.ea,b=0;b<d.length;b++)if(c=p==d[b].event_category+"."+d[b].event_action)b=d.length;c?("object"==typeof e&&0<=Object.keys(e).length&&(a.jrequest_zones=e),"sandbox"==_CDP_ENV&&console.log("checkSend:"+c+", cdp_event_properties: ",a),cdp365DeliveryPush(a)):console.log("cdp locked event to delivery: ",p);return}}c&&cdp365DeliveryPush(a)}catch(f){console.log("cdp365DeliveryCheckAndPush error:"+f)}};function WebAnalytics(){var a=document,b=window,c=b.encodeURIComponent,d=b.decodeURIComponent,e=_CDP_LOG_TRACKING_URL;this.setCookie=function(b,d,e,g,f,l){var h;e&&(h=new Date,h.setTime(h.getTime()+e));a.cookie=b+"="+c(d)+(e?";expires="+h.toGMTString():"")+";path="+(g||"/")+(f?";domain="+f:"")+(l?";secure":"")};this.getCookie=function(b){return(cookieMatch=RegExp("(^|;)[ ]*"+b+"=([^;]*)").exec(a.cookie))?d(cookieMatch[2]):0};var g=new Date,p=new Date,f,n=0,v,q=this.getCookie("au_id")||0,t=this.getCookie("_ac_client_id")||"",h=0,l="",m=0;this.logData=function(a,b){try{if("undefined"!=typeof _cdp_sent_sites&&-1<_cdp_sent_sites.indexOf(a))return!1;v=window._cdpEventFunction.getDefaultCookieDomain();var c=document.title,d=this.getMeta("at:title");!1!=d&&(null!=d&&"undefined"!=typeof d&&""!=d)&&(c=d);null!=c&&(""!=c&&"undefined"!=typeof c)&&(c=_cdpEventFunction.replaceAll(c,'"',""),c=_cdpEventFunction.replaceAll(c,"&quot;",""));null!=c&&(""!=c&&"undefined"!=typeof c&&200<c.length)&&(c=c.substring(0,200));void 0!=t&&""!=t&&"0"!=t||"undefined"===typeof Storage||(t=window.localStorage._ac_client_id,void 0!=t&&""!=t&&"0"!=t)||(t="");var g=this.getMeta("at:url");!1!=g&&(null!=g&&""!=g)&&_paqAcdp.push(["setCustomUrl",g]);_paqAcdp.push(["setDocumentTitle",c]);_paqAcdp.push(["setCookieDomain","*."+v]);_paqAcdp.push(["setTrackerUrl",e+"/event"]);_paqAcdp.push(["setLogEventType","pageview"]);_paqAcdp.push(["setpropId",a]);_paqAcdp.push(["setClientId",t]);_paqAcdp.push(["setPortalId",b]);if("undefined"!=typeof _cdp_default_event&&0==_cdp_default_event)return!1;window._cdpEventFunction.getPageviewIDAI();var f,l,h,m,n,c=0;l=this.getCookie("_ac_an_session");f=this.getCookie("au_id");this.getCookie("dgs");c=this.getCookie("au_aid");if("undefined"!==typeof Storage)try{0===l&&(l=window.localStorage._ac_an_session);if(void 0==f||""==f||0===f)f=window.localStorage.au_id;if(void 0==c||""==c||0===c)c=window.localStorage.au_aid;h=window.localStorage._ac_t1;"undefined"==typeof h&&(h=(new Date).getTime());m=(new Date).getTime();null===h&&(h=m);null===m&&(m=0);n=m-h;36E5<n&&(n=0)}catch(ha){}var r=web_analytic.getVisitorId();if(void 0==r||""==r||"0"==r||0>=parseInt(r)||isNaN(r))r=f;_paqAcdp.push(["setUserCookieId",r]);var q=this.getMeta("at:user_id");!1==q||"%22"==q||""==q?q=web_analytic.getFirstPartyUserId():web_analytic.setFirstPartyUserId(q);(!1==q||"%22"==q||""==q||"0"==q)&&0<parseInt(c)&&(q=c);if(!1==q||"%22"==q||""==q||"0"==q)q=r;"undefined"==typeof q&&(q=0);_paqAcdp.push(["setUserId",q]);var i=window._cdpEventFunction.checkHomePage();f={};try{void 0!=_cdp365Analytics&&"object"==typeof _cdp365Analytics.extra&&(f=_cdp365Analytics.extra,f.au_id=r)}catch(w){}0===Object.keys(f).length&&f.constructor===Object&&(f={au_id:r,page_path:window.location.pathname,time_diff:n});void 0!=c&&0<parseInt(c)&&(f.ants_id=c);var $=this.getMeta("at:page_type");!1!=$&&(f.page_type=$);var D=this.getMeta("at:page_cate");if(!1==D)try{D=ai_section_helper.getSections(),1==i&&(D="Home")}catch(V){}!1!=D&&(f.page_cate=D);var y=this.getMeta("at:keywords");try{if(!1==y||""==y){var W=this.getMeta("news_keywords");!1==W||""==W?0<window.location.href.indexOf("q=")?y=window._cdpEventFunction.getURLParameter("q"):0<window.location.href.indexOf("search=")?y=window._cdpEventFunction.getURLParameter("search"):0<window.location.href.indexOf("query=")&&(y=window._cdpEventFunction.getURLParameter("query")):y=W}if(!1==y||void 0==y||""==y)y=this.getMeta("keywords")}catch(F){}null!=y&&""!=y&&(y=_cdpEventFunction.replaceAll(y,'"',""),y=_cdpEventFunction.replaceAll(y,"&quot;",""),y=y.substring(0,150),f.keywords=y);0<window.location.href.indexOf("hash_cid=")&&(f.hash_cid=window._cdpEventFunction.getURLParameter("hash_cid"));var z=window._cdpEventFunction._ea_get_utm();void 0!=z.source&&""!=z.source&&(f.utm_source=z.source);void 0!=z.campaign&&""!=z.campaign&&(f.utm_campaign=z.campaign);void 0!=z.medium&&""!=z.medium&&(f.utm_medium=z.medium);void 0!=z.content&&""!=z.content&&(f.utm_content=z.content);void 0!=z.term&&""!=z.term&&(f.utm_term=z.term);void 0!=z.term&&""!=z.term&&(f.utm_type=z.type);n=!1;var A=this.getMeta("at:customer_id");!1!=A&&null!=A&&(_uidfData.customer_id=A);var K=this.getMeta("at:user_name");!1!=K&&null!=A&&(_uidfData.user_name=K);var u=this.getMeta("at:user_email");!1!=u&&null!=A&&(_uidfData.user_email=u,n=!0);var C=this.getMeta("at:user_phone");!1!=C&&(_uidfData.user_phone=C,n=!0);var R=this.getMeta("at:user_fb_psid");!1!=R&&(_uidfData.user_fb_psid=R);var H=this.getMeta("at:user_gaid");!1!=H&&(_uidfData.user_gaid=H);if(n){var B=(_uidfData.user_name?_uidfData.user_name:"")+":"+(_uidfData.user_phone?_uidfData.user_phone:"")+":"+(_uidfData.user_email?_uidfData.user_email:""),B=window._cdpEventFunction.md5(B);_uidfData.upkey=B}A={extra:f,uinf:_uidfData};try{var I=window._cdpEventFunction.getExtUIDs(!0);0>=Object.keys(I).length||(K={},void 0!=I.ga_uid&&""!=I.ga_uid&&(K.ga_uid=I.ga_uid),void 0!=I.fb_uid&&""!=I.fb_uid&&(K.fb_uid=I.fb_uid),A.dims={users:K})}catch(fa){console.log("cdp log extUidIds:",fa)}if("undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.default_event&&0==_cdp365Analytics.default_event)return!1;if(void 0!=_cdp365Analytics){if("undefined"!=typeof _cdp365Analytics.items){I=!1;if(void 0!=_cdp365Analytics.page&&void 0!=_cdp365Analytics.page.page_type)var S=_cdp365Analytics.page.page_type,I="product_detail"==S||"product"==S||"product_category"==S||"detail"==S||"home"==S||"category"==S||"search"==S||"article"==S||"article_category"==S;if(1<_cdp365Analytics.items.length&&I){var j=0,db=[];_cdp365Analytics.items.forEach(function(a){j++;5>=j&&db.push({id:a.id,name:a.name,type:void 0!=a.type?a.type:a.item_type})});A.items=db}else A.items=_cdp365Analytics.items,5<A.items.length&&(A.items=A.items.splice(0,5))}"undefined"!=typeof _cdp365Analytics.dims&&(A.dims=_cdp365Analytics.dims);"undefined"!=typeof _cdp365Analytics.page&&(f.page_type=_cdp365Analytics.page.page_type,f.page_category=_cdp365Analytics.page.page_category,A.extra=f)}window._cdpEventFunction.logInfo("log Pageview:","pageview");_cdp365SentPageviewUri=window.location.href;300<_cdp365SentPageviewUri.length&&(_cdp365SentPageviewUri=_cdp365SentPageviewUri.substr(0,300));web_analytic.trackEventDetail("pageview","view","View Page",1,A,!1,!0);"undefined"!=typeof _cdp_sent_sites&&_cdp_sent_sites.push(a);if("undefined"!==typeof Storage)try{window.localStorage._ac_t1=p.getTime()}catch(Sb){}}catch(Mb){console.log(Mb)}};this.incrCountTimeTrack=function(a){n+=a};this.getMydomain=function(){return v};this.getCountTimeTrack=function(){return n};this.getTrackingBaseUrl=function(){return e};this.getStartTime=function(){return p};this.getPageviewId=function(){return f};this.setPageviewId=function(a){f=a};this.getSessionId=function(){return m};this.setSessionId=function(a){m=a};this.setVisitorId=function(a){q=a};this.getVisitorId=function(){if("%22"==q||isNaN(q)||0>=parseInt(q))if(q=window._cdpEventFunction.getCookie("au_id")||0,0>=parseInt(q)&&"undefined"!==typeof Storage)try{q=window.localStorage.au_id}catch(a){}return q};this.getVisitorIdAsync=function(a){var b=web_analytic.getVisitorId();if("%22"==b||isNaN(b)||0>=parseInt(b))var c=setInterval(function(){b=web_analytic.getVisitorId();if("%22"!=b&&!isNaN(b)&&0<parseInt(b))return clearInterval(c),a(b)},200);return a(b)};this.resetAnonymousUId=function(){try{var a=web_analytic.getFirstPartyUserId(),b=a,c=0;void 0!=a&&0<a.indexOf("_")&&(c=parseInt(a.substring(a.indexOf("_")+1)),b=parseInt(a.substring(0,a.indexOf("_"))));firstPartyUserId=b=void 0==b||"%22"==b||""==b?window._cdpEventFunction.sha1((navigator.userAgent||"")+(navigator.platform||"")+(new Date).getTime()+Math.random()).slice(0,16):b+"_"+(c+1);_uidfData={};window._cdpEventFunction._ea_set_cdp_cusid("",!0);web_analytic.setFirstPartyUserId(b);web_analytic.trackEvent("user","reset_anonymous_id",{extra:{reset_uid:a,generate_uid:b}},!1,!0)}catch(d){console.error("error:"+d)}};this.getFirstPartyUserId=function(){if("%22"==firstPartyUserId||""==firstPartyUserId)if(firstPartyUserId=window._cdpEventFunction.getCookie(CDP_UID_1ST_COOKIE_NAME)||0,(void 0==firstPartyUserId||"%22"==firstPartyUserId||""==firstPartyUserId)&&"undefined"!==typeof Storage)try{firstPartyUserId=localStorage.getItem(CDP_UID_1ST_COOKIE_NAME),"%22"!=firstPartyUserId&&""!=firstPartyUserId&&web_analytic.setFirstPartyUserId(firstPartyUserId)}catch(a){}if(void 0==firstPartyUserId||"%22"==firstPartyUserId||""==firstPartyUserId||0==firstPartyUserId){var b=0,b=window._cdpEventFunction.getCookie("au_id");if("undefined"!==typeof Storage)try{if(void 0==b||""==b||0===b)b=window.localStorage.au_aid}catch(c){}if(isNaN(b)||"%22"==b||""==b)if(b=window._cdpEventFunction.getCookie("au_aid"),"undefined"!==typeof Storage)try{if(void 0==b||""==b||0===b)b=window.localStorage.au_id}catch(d){}isNaN(b)||("%22"==b||""==b)||(firstPartyUserId=b,web_analytic.setFirstPartyUserId(firstPartyUserId))}return firstPartyUserId};this.setFirstPartyUserId=function(a){if(void 0!=a&&"%22"!=a&&""!=a){var b="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(b=_cdp365Analytics.first_party_domain)}catch(c){}window._cdpEventFunction.setCookie(CDP_UID_1ST_COOKIE_NAME,a,31104E6,"/",b,0);if("undefined"!==typeof Storage)try{localStorage.setItem(CDP_UID_1ST_COOKIE_NAME,a)}catch(d){}}firstPartyUserId=a};this.setGlobalId=function(a){h=a};this.getGlobalId=function(){return h};this.setClientIP=function(a){l=a};this.getClientIP=function(){return l};this.setTimeToSendLog=function(){g=new Date};this.getTimeToSendLog=function(){return g};this.loadScript=function(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";d.src=a;d.async=!0;d.onreadystatechange=b;d.onload=b;c.appendChild(d)};this.getMeta=function(a){var b=document.getElementsByTagName("meta");if(0<b.length)for(var c=0;c<b.length;c++)if(null!=b[c].getAttribute("name")&&b[c].getAttribute("name").toLowerCase()==a.toLowerCase())return b[c].getAttribute("content");return!1};this.setLatestEvent=function(a){this.latestEvent=a};this.getLatestEvent=function(){return this.latestEvent};this.setSessionViewed=function(a,b,c,d){var e=0;d=null;try{if("undefined"!=typeof a&&!isNaN(parseInt(a))){var g=window._cdpEventFunction.getCookie("_asm_ss_view");if(void 0!=g&&""!=g)d=JSON2.parse(g);else if("undefined"!==typeof Storage)try{if(g=localStorage.getItem("_asm_ss_view"),void 0!=g&&""!=g){d=JSON2.parse(g);var f=d.time+18E5;(new Date).getTime()>f&&(localStorage.setItem("_asm_ss_view",""),d=null)}}catch(l){}f=!1;null==d||"object"!=typeof d?(d={time:(new Date).getTime()},f=!0):e=d.sid;if("undefined"==typeof e||isNaN(parseInt(e))||e!=a)d={time:(new Date).getTime()},f=!0;d.sid=a;a="";"pageview"==b&&"view"==c?a="page_view_order":"item"==b&&"view"==c?a="item_view_order":"product"==b&&"view"==c?a="item_view_order":"article"==b&&"view"==c?a="item_view_order":"blog"==b&&"view"==c&&(a="item_view_order");""!=a&&(b=0,"number"==typeof d[a]&&(b=parseInt(d[a])),d[a]=b+1);b=18E5;!f&&0<parseInt(d.time)&&(b=d.time+18E5-(new Date).getTime());0>=b&&(b=expireTime);if(f||""!=a)d.utime=(new Date).toISOString().slice(0,19),d.duration=(new Date).getTime()-d.time,g=JSON2.stringify(d),window._cdpEventFunction.setCookie("_asm_ss_view",g,b,"/","",0),"undefined"!==typeof Storage&&window.localStorage.setItem("_asm_ss_view",g)}}catch(h){console.log("cdp sdk error:",h)}};this.getSessionView=function(a,b,c){try{c=null;var d="";"pageview"==a&&"view"==b?d="page_view_order":"item"==a&&"view"==b?d="item_view_order":"product"==a&&"view"==b?d="item_view_order":"article"==a&&"view"==b?d="item_view_order":"blog"==a&&"view"==b&&(d="item_view_order");if(""!=d){a=null;var e=window._cdpEventFunction.getCookie("_asm_ss_view");if(void 0!=e&&""!=e)a=JSON2.parse(e);else if("undefined"!==typeof Storage)try{e=localStorage.getItem("_asm_ss_view"),void 0!=e&&""!=e&&(a=JSON2.parse(e))}catch(g){}e=1;null==a||("undefined"==typeof a||"undefined"==typeof a.sid||isNaN(parseInt(a.sid)))||"number"==typeof a[d]&&(e=parseInt(a[d])+1);c={name:d,value:e}}return c}catch(f){return console.log("cdp sdk error 2:",f),null}};this.getSessionDuration=function(){var a=0;try{var b=null,c=window._cdpEventFunction.getCookie("_asm_ss_view");if(void 0!=c&&""!=c)b=JSON2.parse(c);else if("undefined"!==typeof Storage)try{c=localStorage.getItem("_asm_ss_view"),void 0!=c&&""!=c&&(b=JSON2.parse(c))}catch(d){}null==b||("undefined"==typeof b||"undefined"==typeof b.sid||isNaN(parseInt(b.sid)))||"number"==typeof b.duration&&(a=parseInt(b.duration))}catch(e){console.log("cdp sdk error getSessionDuration:",e)}return a};this.trackingPageview=function(){try{var a=web_analytic.getTimeToSendLog().getTime()+3E3;(new Date).getTime()<a||30<ai_sent_counter?web_analytic.setTimeToSendLog():(web_analytic.setTimeToSendLog(),ai_sent_counter++,_cdp_sent_sites=[],web_analytic.logData(window._propId,1))}catch(b){}};this.trackLeadForm=function(a,b,c,d,e,g){window._cdpEventFunction.logInfo("leadFormProperties:",e);window._cdpEventFunction.logInfo("eventProperties:",e);var f=[],l="";if("undefined"!==typeof e)if("undefined"!==typeof e.items&&Array.isArray(e.items))[].forEach.call(e.items,function(a){window._cdpEventFunction.logInfo("lead_item:",a);a=window._cdpEventFunction.getLeadFormOnEventProperty(a);f.push(a);"undefined"!=typeof a.upkey&&(l=a.upkey)});else if("undefined"!==typeof e.item&&0==Object.keys(e.item).length){var h=window._cdpEventFunction.getLeadFormOnEventProperty(item);f.push(h);"undefined"!=typeof h.upkey&&(l=h.upkey)}window._cdpEventFunction.logInfo("leadForm. items:",f);e={items:f,dims:e.dims||{},extra:void 0!=e.extra?e.extra:{},uinf:void 0!=e.uinf?e.uinf:{}};""!=l&&(e.profileKey=l);web_analytic.trackEventDetail(a,b,c,d,e,g)};this.trackEcommerce=function(a,b,c,d,e,g){var f=web_analytic.getSessionId();"undefined"===typeof f&&(f=0);var l=[],h=0;if("undefined"!==typeof e)if("undefined"!==typeof e.items&&Array.isArray(e.items)){var m=0,p=!1;[].forEach.call(e.items,function(a){window._cdpEventFunction.logInfo("e_item:",a);if(m<=MAX_LENGTH_HTTP_REQUEST){if(a=window._cdpEventFunction.getProductEcommeceProperty(a),null!=a&&(void 0!=a.id&&""!=a.id)&&(l.push(a),m+=window.encodeURI(JSON.stringify(a,null,0)).length),0<a.price){var b=a.quantity;0>=b&&(b=1);h+=parseFloat(b*a.price)}}else p=!0});p&&(l=[],h=0,[].forEach.call(e.items,function(a){window._cdpEventFunction.logInfo("e_item:",a);var b=window._cdpEventFunction.getProductEcommeceProperty(a);if(null!=b&&void 0!=b.id&&""!=b.id){var c={};Object.keys(b).forEach(function(a,d){0<=a.indexOf("image")||0<=a.indexOf("url")||0<=a.indexOf("uri")||null==b[a]||200<b[a].length||(c[a]=b[a])});l.push(c)}0<b.price&&(a=b.quantity,0>=a&&(a=1),h+=parseFloat(a*b.price))}))}else if("undefined"!==typeof e.item&&0==Object.keys(e.item).length){if(f=window._cdpEventFunction.getProductEcommeceProperty(item),l.push(f),0<f.price){var r=f.quantity;0>=r&&(r=1);h+=parseFloat(r*f.price)}}else"undefined"!==typeof e.ids&&Array.isArray(e.ids)&&[].forEach.call(e.ids,function(a){l.push({id:a,name:""})});f=e.extra||{};void 0==e.extra||""==e.extra?f={revenue:0<parseFloat(e.revenue)?e.revenue:h,currency:void 0!=e.currency?e.currency:"",order_id:void 0!=e.order_id?e.order_id:""}:(f.revenue=0<parseFloat(f.revenue)?f.revenue:h,f.currency=void 0!=f.currency?f.currency:"",f.order_id=void 0!=f.order_id?f.order_id:"");r="";if("purchase"==b){if(void 0==f.transaction_id||""==f.transaction_id)r="ts_"+(new Date).getTime(),f.transaction_id=r;try{if(r=!1,void 0!=e.dims&&void 0!=e.dims.purchase&&(r=!0),!r&&"undefined"!=typeof f.order_id&&""!=f.order_id){var n="undefined"!=typeof f.identify_id?f.identify_id:f.customer_id,q="undefined"!=typeof f.identify_name?f.identify_name:f.customer_name,t="undefined"!=typeof f.identify_email?f.identify_email:f.email,v="undefined"!=typeof f.identify_phone?f.identify_phone:f.phone,D={id:f.order_id,name:"#"+f.order_id,order_id:f.order_id,revenue:f.revenue,num_items:f.num_items};"undefined"!=typeof f.discount_amount&&""!=f.discount_amount&&(D.discount_amount=f.discount_amount);"undefined"!=typeof f.promotion_code&&""!=f.promotion_code&&(D.promotion_code=f.promotion_code);void 0!=n&&""!=n&&(D.customer_id=n);void 0!=q&&""!=q&&(D.customer_name=q);void 0!=t&&""!=t&&(D.customer_email=t);void 0!=v&&""!=v&&(D.customer_phone=v);"undefined"!==typeof e.dims?e.dims.purchase=D:e.dims={purchase:D}}}catch(V){}}n=e.dims||{};"undefined"!==typeof e.lead&&(q=window._cdpEventFunction.getLeadFormOnEventProperty(e.lead),n.lead=q);web_analytic.trackEventDetail(a,b,c,d,{items:l,extra:f,uinf:e.uinf,dims:n},g)};this.trackEventDetail=function(a,b,c,d,f,g,h){g=web_analytic.getPageviewId();"undefined"===typeof g&&(g="");try{var l=a+":"+b+":"+c,m=web_analytic.getSessionId();"undefined"===typeof m&&(m=0);window._cdpEventFunction._ea_get_event();var p=f.items,n=f.extra||{},r=f.uinf||_uidfData,q=f.dims||{};("object"!==typeof n||""==n||null==n||0>=Object.keys(n).length)&&"undefined"!=typeof _cdp365Analytics.extra&&(n=_cdp365Analytics.extra);if("undefined"!==typeof f.lead){var t=window._cdpEventFunction.getLeadFormOnEventProperty(f.lead);q.lead=t}0<m&&(n.session_id=m);n.prop_id=window._propId;n.visitor_type=window._cdpEventFunction._ea_get_visitorType();var w=_cdpEventFunction.checkIsWebview();n.is_webview=w;var v=window.location.href;200<v.length&&(v=v.substring(0,200));void 0!=v&&""!=v&&(0<=v.indexOf('"')&&(v=_cdpEventFunction.replaceAll(v,'"',"'")),0<=v.indexOf("%22")&&(v=_cdpEventFunction.replaceAll(v,"%22","'")));n.location_url=v;if(void 0!=document.referrer&&""!=document.referrer){var D=document.referrer;200<D.length&&(D=D.substring(0,200));void 0!=D&&""!=D&&(0<=D.indexOf('"')&&(D=_cdpEventFunction.replaceAll(D,'"',"'")),0<=D.indexOf("%22")&&(D=_cdpEventFunction.replaceAll(D,"%22","'")));n.referrer_url=D}var V=window._cdpEventFunction._ea_get_click_beacon();void 0!=V&&""!=V&&(n.click_bc=V);var y=this.getMeta("at:page_cate");if(!1==y)try{y=ai_section_helper.getSections(),1==checkHomePage&&(y="Home")}catch(W){}var F=window._cdpEventFunction._ea_get_utm();void 0!=F.source&&""!=F.source&&(n.utm_source=F.source);void 0!=F.campaign&&""!=F.campaign&&(n.utm_campaign=F.campaign);void 0!=F.medium&&""!=F.medium&&(n.utm_medium=F.medium);void 0!=F.content&&""!=F.content&&(n.utm_content=F.content);void 0!=F.term&&""!=F.term&&(n.utm_term=F.term);void 0!=F.type&&""!=F.type&&(n.utm_type=F.type);var z=window._cdpEventFunction._ea_get_atm();void 0!=z.source&&""!=z.source&&(n.atm_source=z.source);void 0!=z.campaign&&""!=z.campaign&&(n.atm_campaign=z.campaign);void 0!=z.medium&&""!=z.medium&&(n.atm_medium=z.medium);void 0!=z.content&&""!=z.content&&(n.atm_content=z.content);void 0!=z.term&&""!=z.term&&(n.atm_term=z.term);void 0!=z.type&&""!=z.type&&(n.atm_type=z.type);window._cdpEventFunction.logInfo("trackEventDetail. extraData:",n);var A=web_analytic.getFirstPartyUserId();void 0!=A&&("%22"!=A&&""!=A)&&_paqAcdp.push(["setUserId",A]);f="";m={};"undefined"!=typeof q.customers?(m=q.customers,f=m.customer_id):"undefined"!=typeof n.customer_id?f=n.customer_id:"undefined"!=typeof n.identify_id?f=n.identify_id:"undefined"!=typeof n.identity_id?f=n.identity_id:"undefined"!=typeof r.customer_id&&(f=r.customer_id);var K=null!=f&&1<=f.length&&200>f.length;if(K)window._cdpEventFunction._ea_set_cdp_cusid(f),n.identify_type="exact";else if(f=window._cdpEventFunction._ea_get_cdp_cusid(),K=null!=f&&1<=f.length&&200>f.length)n.identify_type="predict";K&&(m&&0<Object.keys(m).length&&Object.getPrototypeOf(m)===Object.prototype?m.customer_id=f:m={customer_id:f});try{var u=web_analytic.getSessionDuration();n.ss_time=u;var C=web_analytic.getSessionView(a,b,c);null!=C&&"object"==typeof C&&(n[C.name]=C.value)}catch(R){console.log("cdp sdk error sessionView:",R)}m&&(0<Object.keys(m).length&&Object.getPrototypeOf(m)===Object.prototype)&&(q.customers=m)}catch(H){console.log("cdp sdk error:",H)}_paqAcdp.push(["setTrackerUrl",e+"/event"]);_paqAcdp.push(["setLogEventType","event"]);_paqAcdp.push(["trackEvent",a,b,c,d,p,n,r,q,h]);web_analytic.currEvent=l+":"+g;try{if(!1==A||void 0==A||null==A||"%22"==A||""==A||"0"==A)web_analytic.getVisitorIdAsync(function(c){A=c;c=window._propId;"undefined"!=typeof n&&("undefined"!=typeof n.cdp_property_id&&0<parseInt(n.cdp_property_id))&&(c=n.cdp_property_id);"undefined"!==typeof A&&(c={portal_id:window._portalId,prop_id:c,uid:A,ec:a,ea:b,items:p,dims:q,extra:n},"function"==typeof cdp365DeliveryCheckAndPush&&cdp365DeliveryCheckAndPush(c),"function"==typeof _cdpEventCallbackListener&&_cdpEventCallbackListener(c))});else{var B=window._propId;"undefined"!=typeof n&&("undefined"!=typeof n.cdp_property_id&&0<parseInt(n.cdp_property_id))&&(B=n.cdp_property_id);var I={portal_id:window._portalId,prop_id:B,uid:A,ec:a,ea:b,items:p,dims:q,extra:n};"function"==typeof cdp365DeliveryCheckAndPush&&cdp365DeliveryCheckAndPush(I);"function"==typeof _cdpEventCallbackListener&&_cdpEventCallbackListener(I);if("object"==typeof _cdpRegisterFunctionCallback&&Array.isArray(_cdpRegisterFunctionCallback)){var i=0;[].forEach.call(_cdpRegisterFunctionCallback,function(a){"function"==eval("typeof "+a)&&3>i&&a(I);i++})}}}catch(S){}try{c={eventChannel:"cdp_events_listen",eventCate:a,eventAction:b,eventData:{items:p,dims:q,extra:n}},window.postMessage(c),this.setLatestEvent(c)}catch(ka){}};this.trackEvent=function(a,b,c,d,e){if(!("undefined"===typeof a||""==a||1>=a.length)){"undefined"!=typeof a&&70<a.length&&(a=a.substring(0,70));"undefined"===typeof b||""==b||1>=b.length?"undefined"!==typeof c&&(""!=c&&0!=Object.keys(c).length)&&(b=void 0!=c.action?c.action:""):"undefined"!==typeof b&&70<b.length&&(b=b.substring(0,70));if("undefined"===typeof b||""==b||1>=b.length)b="default";e="";var f=0;"undefined"===typeof c||""==c||0==Object.keys(c).length?e=b+" "+a:(e=void 0!=c.name?c.name:"",f=void 0!=c.revenue?0<parseFloat(c.revenue)?c.revenue:0:void 0!=c.value?c.value:0);"undefined"===typeof e||""==e||1>=e.length?e="":"undefined"!==typeof e&&30<e.length&&(e=e.substring(0,30));window._cdpEventFunction.logInfo("eventCategory:",a);if("product"==a)web_analytic.trackEcommerce(a,b,e,f,c,d);else if("lead"==a)web_analytic.trackLeadForm(a,b,e,f,c,d);else{var g=[];if("undefined"!==typeof c)if("undefined"!==typeof c.items&&Array.isArray(c.items)){var h=0,l=!1;[].forEach.call(c.items,function(a){window._cdpEventFunction.logInfo("item:",a);h<=MAX_LENGTH_HTTP_REQUEST?(a=window._cdpEventFunction.getItemOnEventProperty(a),null!=a&&(void 0!=a.id&&""!=a.id)&&(g.push(a),h+=window.encodeURI(JSON.stringify(a,null,0)).length)):l=!0});l&&(g=[],h=0,[].forEach.call(c.items,function(a){window._cdpEventFunction.logInfo("item:",a);var b=window._cdpEventFunction.getItemOnEventProperty(a);if(null!=b&&void 0!=b.id&&""!=b.id&&h<MAX_LENGTH_HTTP_REQUEST){var c={};Object.keys(b).forEach(function(a,d){0<=a.indexOf("image")||0<=a.indexOf("url")||0<=a.indexOf("uri")||null==b[a]||200<b[a].length||(c[a]=b[a])});g.push(c);h+=window.encodeURI(JSON.stringify(c,null,0)).length}}))}else if("undefined"!==typeof c.item&&0==Object.keys(c.item).length){var m=window._cdpEventFunction.getItemOnEventProperty(item);g.push(m)}m={items:g};"undefined"!==typeof c&&(m.extra="undefined"!==typeof c.extra?c.extra:"",m.dims="undefined"!==typeof c.dims?c.dims:"",m.uinf="undefined"!==typeof c.uinf?c.uinf:"");web_analytic.trackEventDetail(a,b,e,f,m,d)}}}}var _event_callback_data=function(a){var b=a.au_id,c=a.au_gt,d=a.dgs,e=a.client_id,g=a.an_session,p=a.pv_id;web_analytic.setPageviewId(p);web_analytic.setVisitorId(b);try{if(void 0!=a._clk_url){void 0!=a._clk_bc&&window._cdpEventFunction._ea_save_click_beacon(a._clk_bc);var f=a._clk_target;_cdp365ClickRedirectUri=1;void 0!=f&&"_blank"==f?window.open(a._clk_url,f):(window.location.href=a._clk_url,f="n/a");console.log("cdp365 has tracked clicked via redirect_url:"+a._clk_url+", click_bc:"+a._clk_bc+", click_target: "+f+", redirected:"+_cdp365ClickRedirectUri)}void 0!=e&&window._cdpEventFunction.setCookie("_ac_client_id",e,63072E6,"/",v,0);void 0!=a.networks&&web_analytic.setClientIP(a.networks.client_ip);void 0!=a.session_id&&(web_analytic.setSessionId(a.session_id),web_analytic.setSessionViewed(a.session_id,a.ec,a.ea,""));void 0!=a._clk_bc&&window._cdpEventFunction._ea_save_click_beacon(a._clk_bc);void 0!=a.n_user&&window._cdpEventFunction._ea_set_visitorType(a.n_user,a.session_id)}catch(n){}var e=new Date,v="."+window._cdpEventFunction.getDefaultCookieDomain();window._cdpEventFunction.setCookie("_ac_an_session",g,63072E6,"/",v,0);0==b||0!==window._cdpEventFunction.getCookie("au_id")&&window._cdpEventFunction.getCookie("au_id")==b||(window._cdpEventFunction.setCookie("au_id",b,63072E6,"/",v,0),"undefined"!==typeof Storage&&(window.localStorage.au_id=b));"undefined"!==typeof d&&""!==d&&window._cdpEventFunction.setCookie("_acdp_dgs",d,63072E6,"/",v,0);b=window._cdpEventFunction.getCookie("_ac_au_gt");"undefined"!==typeof b&&0!==b&&""!==b||window._cdpEventFunction.setCookie("_ac_au_gt",c,63072E6,"/",v,0);"undefined"!==typeof Storage&&(a.pvId&&(window.localStorage._ac_pv=p),a.eatv&&(window.localStorage._ac_eatv=a.eatv),a.an_session&&(window.localStorage._ac_an_session=a.an_session),a.client_id&&(window.localStorage._ac_client_id=a.client_id),a.au_gt&&""!=a.au_gt&&(window.localStorage._ac_au_gt=a.au_gt),window.localStorage._ac_t1=e.getTime())},cdp_no_tracking=function(){try{if(1132==window._portalId&&0<=window.location.href("pnjvn.com"))return 1}catch(a){}return 0},web_analytic=new WebAnalytics,_cdp_event_function_loader=function(){try{"undefined"!=typeof window._propId&&0!=_propId||"undefined"==typeof web_event.propId||(_propId=web_event.propId),"undefined"!=typeof window._portalId&&0!=_portalId||"undefined"==typeof web_event._portalId||(_portalId=web_event.portalId),1!=cdp_no_tracking()&&(web_analytic.logData(window._propId,window._portalId),0<window.location.href.indexOf("atm_cid")&&setTimeout(function(){var a=window._cdpEventFunction.getURLParameter("atm_cid");if(null!=a&&1<=a.length&&200>a.length){var c={dims:{customers:{customer_id:a}},extra:{identify_type:"exact"}};window._cdpEventFunction._ea_set_cdp_cusid(a);web_analytic.trackEventDetail("user","identify","user_identify",0,c,!0,!0)}},200))}catch(a){}};_cdp_event_function_loader();web_event.track=function(a,b,c){try{var d="pageview"==a&&"view"==b,e=_cdp365SentPageviewUri==window.location.href,g=!1;"undefined"!=typeof c&&"undefined"!=typeof c.custom_event&&1==c.custom_event&&(g=!0);var p=!1;d&&e&&(p=!0);g&&(p=!1);if(p)console.log("cdp365 has locked the default event");else{try{if(d&&"undefined"!=typeof _cdp365Analytics){if(null==c||void 0==c)c={};"undefined"!=typeof _cdp365Analytics.extra&&(c.extra=_cdp365Analytics.extra);"undefined"!=typeof _cdp365Analytics.page&&("undefined"==typeof _cdp365Analytics.extra&&(c.extra={}),"undefined"!==typeof _cdp365Analytics.page.page_type&&(c.extra.page_type=_cdp365Analytics.page.page_type),"undefined"!==typeof _cdp365Analytics.page.page_type&&(c.extra.page_category=_cdp365Analytics.page.page_category));"undefined"!=typeof _cdp365Analytics.items&&(c.items=_cdp365Analytics.items);"undefined"!=typeof _cdp365Analytics.dims&&(c.dims=_cdp365Analytics.dims)}_cdp365SentPageviewUri=window.location.href;300<_cdp365SentPageviewUri.length&&(_cdp365SentPageviewUri=_cdp365SentPageviewUri.substr(0,300))}catch(f){console.log("cdp log",f)}web_analytic.trackEvent(a,b,c,!0,!0)}}catch(n){console.log("cdp ex:",n)}};web_event.validateEventTrackingUri=function(a){if("undefined"==typeof a||""==a||10>a.length)return console.error("CDP365. eventTrackingUri is null. please check again"),!1;for(var b=["portal_id","prop_id","uid","ea","ec"],c=0;c<b.length;c++)if(0>a.indexOf(b[c]))return console.error("CDP365. eventTrackingUri is invalid. the param:"+b[c]+" is required"),!1;return!0};web_event.trackEventWithUri=function(a,b,c){try{if(web_event.validateEventTrackingUri(a)){var d="undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.page,e=a=window.decodeURI(a);if(d){var g=window.decodeURI(getUriParameter(a,"extra")),d={};try{d=JSON2.parse(g)}catch(p){}if("object"!==typeof d||""==d||null==d)d={};"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.page&&(d.page_type=_cdp365Analytics.page.page_type,d.page_category=_cdp365Analytics.page.page_category);var f=JSON2.stringify(d);try{for(var n=uri.split("&"),e="is_custom=1",g=0;g<n.length;g++)var v=n[g].split("="),q=v[0],t=v[1],e="extra"==q?e+("&"+q+"="+f):e+("&"+q+"="+t)}catch(h){}""==e&&(e=a)}var l=0<=a.indexOf("ea=click")&&0<=a.indexOf("&ec=advertising");if(l=l||0<=a.indexOf("en=click_tracking"))if("undefined"!=typeof b&&""!=b&&b.startsWith("http")){if(0<b.indexOf("?")&&0<b.indexOf("&")||0<b.indexOf("#"))b=window.encodeURIComponent(b);a=0;0>b.indexOf(window.location.hostname)&&(a=1);e=e.replace("&resp_type=pixel","&resp_type=javascript");e+="&redirect_url="+b+"&is_ext_url="+a;void 0!=c&&""!=c&&(e+="&clk_target="+c)}else console.error("CDP365 Warn. the param clickLink is required"),l=!1;var e=_CDP_LOG_TRACKING_URL+"/event?"+e,m=document.createElement("script");m.type="text/javascript";m.async=!0;m.src=e;var k=document.getElementsByTagName("script")[0];k.parentNode.insertBefore(m,k);if(l)return setTimeout(function(){0==_cdp365ClickRedirectUri&&(void 0!=c&&"_blank"==c?window.open(b,c):window.location.href=b)},2E3),!1}}catch(x){console.log("cdp ex:",x)}};web_event.resetAnonymousUId=function(){web_analytic.resetAnonymousUId()};var _isLoadEventsOnQueueAndTrack=function(){try{if("undefined"!=typeof window.web_event){var a=window.web_event.queue,b=window.web_event.locked;if("undefined"!==typeof a&&Array.isArray(a)&&!b){var c=web_analytic.getPageviewId(),b=1E3;void 0!=c&&""!=c&&(b=100);setTimeout(function(){for(window.web_event.locked=!0;a.length;)if(0<a.length){var b=a.shift();window._cdpEventFunction.logInfo("item:",b);var c=b[0];3>b.length||"track"!=c||(3==b.length?web_analytic.trackEvent(b[1],b[2],!1,!0):3<b.length&&web_analytic.trackEvent(b[1],b[2],b[3],!1,!0))}window.web_event.locked=!1},b)}}}catch(d){}},_cdp365PushEventTracker=function(){console.log("_cdp365PushEventTracker called");return _isLoadEventsOnConfigAndTrack()},_isLoadEventsOnConfigAndTrack=function(){try{if("undefined"!=typeof window._cdp365Analytics&&"undefined"!=typeof window._cdp365Analytics.track){var a=_cdp365Analytics.track,b=window.web_event.locked;if("undefined"!==typeof a&&Array.isArray(a)&&!b){var c=web_analytic.getPageviewId(),b=1E3;void 0!=c&&""!=c&&(b=100);setTimeout(function(){for(window.web_event.locked=!0;a.length;)if(0<a.length){var b=a.shift();window._cdpEventFunction.logInfo("item:",b);if(!(2>b.length)){var c=b[0],d=b[1],f={},n="pageview"==c&&"view"==d,v=window.location.href;300<v.length&&(v=v.substr(0,300));if(v==_cdp365SentPageviewUri&&n)console.log("cdp365 locked the default event 2");else{2<b.length&&"undefined"!=typeof b[2].extra&&(f=b[2].extra);b={};if("undefined"!=typeof _cdp365Analytics.items)if(n=!1,void 0!=_cdp365Analytics.page&&void 0!=_cdp365Analytics.page.page_type&&(n=_cdp365Analytics.page.page_type,n="product_detail"==n||"product"==n||"product_category"==n||"detail"==n||"home"==n||"category"==n||"search"==n||"article"==n||"article_category"==n),1<_cdp365Analytics.items.length&&n){var q=0,t=[];_cdp365Analytics.items.forEach(function(a){q++;5>=q&&t.push({id:a.id,name:a.name,type:void 0!=a.type?a.type:a.item_type})});b.items=t}else b.items=_cdp365Analytics.items,5<b.items.length&&(b.items=b.items.splice(0,5));"undefined"!=typeof _cdp365Analytics.dims&&(b.dims=_cdp365Analytics.dims);("object"!==typeof f||""==f||null==f||0>=Object.keys(f).length)&&"undefined"!=typeof _cdp365Analytics.extra&&(f=_cdp365Analytics.extra);"undefined"!=typeof _cdp365Analytics.page&&(f.page_type=_cdp365Analytics.page.page_type,f.page_category=_cdp365Analytics.page.page_category);if("object"==typeof _cdp365Analytics.order){var n=_cdp365Analytics.order,h;for(h in n)n.hasOwnProperty(h)&&(f[h]=n[h])}b.extra=f;web_analytic.trackEvent(c,d,b,!1,!0)}}}window.web_event.locked=!1},b)}}}catch(d){}},_loadPageAndTrackEventAsync=function(){_isLoadEventsOnQueueAndTrack();_isLoadEventsOnConfigAndTrack();var a=0,b=setInterval(function(){_isLoadEventsOnQueueAndTrack();_isLoadEventsOnConfigAndTrack();a++;5<a&&clearInterval(b)},2E3)};_loadPageAndTrackEventAsync();var _isLoadScript=function(a){var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=a;a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)};Date.prototype.toScriptVersionFormat=function(){var a=this.getDate(),b=this.getMonth(),c=this.getFullYear(),d=this.getHours();return c+""+b+""+a+""+d};var _cdp_delivery=function(){try{var a=!1;"sandbox"==_CDP_ENV?a=!0:"561236459"==window._portalId?a=!0:"564467023"==window._portalId?a=!0:"564888548"==window._portalId?a=!0:"undefined"!=typeof _CDP_DELIVERY_TRIGGER&&_CDP_DELIVERY_TRIGGER&&(a=!0);var b=b||window._portalId;"undefined"!=typeof window._portalId&&(b=window._portalId);if("undefined"==typeof b||0==b)a=!1;1==cdp_no_tracking()&&(a=!1);if(a){var c=_CDP_DELIVERY_URL+"/"+b+".js?f=1&portal_id="+b+"&v="+(new Date).toScriptVersionFormat(),d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=c;el=document.getElementsByTagName("script")[0];el.parentNode.insertBefore(d,el);window.cdp_delivery=window.cdp_delivery||[]}}catch(e){}};_cdp_delivery();_cdpOnMessage=function(){try{window.addEventListener("message",function(a){a=a.data;var c=a.eventChannel;"undefined"!=typeof c&&"cdp_tracking"==c&&web_event.track(a.eventCate,a.eventAction,a.eventData)})}catch(a){}};_cdpOnMessage();var _cdp365ElementClickPixel=function(a,b,c){try{if("undefined"==typeof a)console.log("clickLink is NOT correct");else if("undefined"==typeof b)console.log("clickData is NOT correct"),window.location=a;else{b=b.replace("&resp_type=pixel","&resp_type=javascript");var d=0;0>a.indexOf(window.location.hostname)&&(d=1);if(0<a.indexOf("?")&&0<a.indexOf("&")||0<a.indexOf("#"))a=window.encodeURIComponent(a);a=_CDP_LOG_TRACKING_URL+"/stream_event?"+b+"&redirect_url="+a+"&is_ext_url="+d;void 0!=c&&""!=c&&(a+="&clk_target="+c);_cdp365ClickRedirectUri=0;var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=a;var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}}catch(p){console.log("cdp ex:",p)}},_cdp365ElementClickTrigger=function(){try{for(var a=document.getElementsByClassName("cdp365-element-link"),b=0;b<a.length;b++)a[b].onclick=function(a){var b=this.getAttribute("href");a=window.decodeURI(this.getAttribute("cdp365-click-data"));var c=this.getAttribute("target");_cdp365ElementClickPixel(b,a,c);setTimeout(function(){0==_cdp365ClickRedirectUri&&(void 0!=c&&"_blank"==c?window.open(b,c):window.location.href=b)},2E3);return!1}}catch(c){console.log("cdp ex:",c)}},_cdp365ElementClickListener=function(){try{var a=0,b=0;_cdp365ElementClickTrigger();var c=setInterval(function(){var d=document.getElementsByClassName("cdp365-element-link").length,g=a!=d;window._cdp365ElementLinkChanged&&(g=!0,window._cdp365ElementLinkChanged=!1);g&&_cdp365ElementClickTrigger();a=d;b++;120<b&&clearInterval(c)},500)}catch(d){console.log("cdp ex:",d)}};_cdp365ElementClickListener();var _cdp365AddOnsListener=function(){try{setTimeout(function(){var a=window._cdp365AddOns;try{if(!("undefined"==typeof a||"object"!=typeof a||0>=Object.keys(a).length)){var a=_CDP_STATIC_FILE_URL+"/cdp_addons.js",c=document.createElement("script");c.type="text/javascript";c.async=!0;c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}catch(e){}},1E3)}catch(a){console.log("cdp ex:",a)}};_cdp365AddOnsListener();var _cdp365CustomEventLoader=function(){try{if(!(!1==_CDP_CUSTOM_EVENT||""==_CDP_CUSTOM_EVENT_URL||1>_CDP_CUSTOM_EVENT_URL.length)){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=_CDP_CUSTOM_EVENT_URL;var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}}catch(c){console.log("cdp ex:",c)}};_cdp365CustomEventLoader();